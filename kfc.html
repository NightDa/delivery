<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KFC Delivery Marrakech 24/7 | Chicken Buckets & More | Fast Delivery</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* NEW NAVIGATION BAR */
    .new-navbar {
      background: white;
      padding: 15px 16px;
      border-bottom: 1px solid #e0e0e0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 1001;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-left,
    .nav-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .nav-center {
      flex: 1;
      text-align: center;
    }

    .page-title {
      font-size: 18px;
      font-weight: 700;
      color: #dc143c;
      margin: 0;
    }

    .nav-btn {
      background: none;
      border: none;
      font-size: 18px;
      color: #666;
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      transition: all 0.3s ease;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nav-btn:hover {
      background: #f5f5f5;
      color: #dc143c;
    }

    /* Main styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background-color: #f8f8f8;
      color: #333;
      max-width: 400px;
      margin: 0 auto;
      padding: 0;
      min-height: 100vh;
      position: relative;
    }

    /* Hero Image */
    .hero-section {
      position: relative;
      height: 220px;
      overflow: hidden;
    }

    .hero-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .hero-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
      padding: 20px 16px 16px;
      color: white;
    }

    .hero-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .hero-subtitle {
      font-size: 14px;
      opacity: 0.9;
    }

    /* Restaurant Info */
    .restaurant-info {
      padding: 20px 16px;
      background-color: white;
      border-radius: 0 0 16px 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      margin-bottom: 8px;
    }

    .restaurant-name {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #8B0000;
    }

    .rating-delivery {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      flex-wrap: wrap;
      gap: 16px;
    }

    .rating {
      display: flex;
      align-items: center;
      padding: 6px 12px;
      background: #FFF5F5;
      border-radius: 20px;
    }

    .rating-value {
      font-weight: 700;
      margin-right: 4px;
      color: #8B0000;
    }

    .delivery-time {
      display: flex;
      align-items: center;
      padding: 6px 12px;
      background: #F8F9FA;
      border-radius: 20px;
      color: #495057;
    }

    .delivery-icon {
      margin-right: 6px;
      color: #8B0000;
    }

    /* Categories Section */
    .categories-section {
      padding: 16px;
      background-color: white;
      margin-bottom: 8px;
      position: sticky;
      top: 60px;
      z-index: 900;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
      min-height: 60px;
      /* adjust as needed */
    }

    .categories {
      display: flex;
      overflow-x: auto;
      gap: 8px;
      padding-bottom: 4px;
      scrollbar-width: none;
      scroll-behavior: smooth;
      cursor: grab;
      /* new */
      user-select: none;
      /* new */
      -webkit-overflow-scrolling: touch;
      /* for mobile */
    }

    .categories:active {
      cursor: grabbing;
      /* new */
    }

    .categories::-webkit-scrollbar {
      display: none;
    }

    .category {
      padding: 12px 18px;
      background: #F8F9FA;
      border-radius: 12px;
      white-space: nowrap;
      font-size: 14px;
      font-weight: 500;
      color: #495057;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      border: 1px solid #E9ECEF;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: max-content;
    }

    .category::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #8B0000 0%, #6D0000 100%);
      border-radius: 12px;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }

    .category.active {
      color: white;
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(139, 0, 0, 0.25);
      border-color: #8B0000;
      font-weight: 600;
    }

    .category.active::before {
      opacity: 1;
    }

    /* Category Items Section */
    .category-items-section {
      padding: 20px 16px;
      background-color: white;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      margin-bottom: 16px;
      scroll-margin-top: 120px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .category-items-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .section-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 16px;
      color: #212529;
      position: relative;
    }

    .category-item {
      display: flex;
      padding: 16px 0;
      border-bottom: 1px solid #F1F3F5;
      transition: transform 0.2s ease;
    }

    .category-item:last-child {
      border-bottom: none;
    }

    .item-image {
      width: 100px;
      height: 100px;
      border-radius: 12px;
      object-fit: cover;
      margin-right: 16px;
      transition: transform 0.3s ease;
    }

    .item-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .item-name {
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 6px;
      color: #212529;
    }

    .item-description {
      font-size: 13px;
      color: #6C757D;
      margin-bottom: 12px;
      line-height: 1.4;
    }

    .item-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .item-price {
      font-weight: 700;
      color: #000000;
      font-size: 16px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .price-amount {
      color: #8B0000;
    }

    .item-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .customize-btn {
      background: linear-gradient(135deg, #8B0000 0%, #6D0000 100%);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .add-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #8B0000 0%, #6D0000 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 4px 10px rgba(139, 0, 0, 0.3);
      color: white;
      font-weight: bold;
      font-size: 18px;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .add-btn:active {
      transform: scale(0.9);
    }

    /* Customization Modal */
    .customization-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 2000;
      overflow-y: auto;
    }

    .modal-content {
      background: white;
      max-width: 400px;
      margin: 20px auto;
      border-radius: 16px;
      overflow: hidden;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      background: linear-gradient(135deg, #8B0000 0%, #6D0000 100%);
      color: white;
      padding: 20px;
      position: relative;
    }

    .modal-close {
      position: absolute;
      right: 20px;
      top: 20px;
      background: none;
      border: none;
      color: white;
      font-size: 24px;
      cursor: pointer;
    }

    .modal-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .modal-description {
      font-size: 14px;
      opacity: 0.9;
    }

    .modal-body {
      padding: 20px;
      max-height: 60vh;
      overflow-y: auto;
    }

    .customization-section {
      margin-bottom: 24px;
      border-bottom: 1px solid #eee;
      padding-bottom: 16px;
    }

    .customization-section:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .section-title-modal {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
      color: #212529;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .option-item {
      display: flex;
      align-items: center;
      padding: 12px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      margin-bottom: 10px;
      background: white;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .option-item.selected {
      border-color: #8B0000;
      background: #FFF5F5;
    }

    .option-item.sub-item {
      margin-left: 30px;
      width: calc(100% - 30px);
    }

    .option-image {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      margin-right: 12px;
      object-fit: cover;
    }

    .option-info {
      flex: 1;
    }

    .option-name {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 4px;
    }

    .option-price {
      font-size: 12px;
      color: #8B0000;
      font-weight: 600;
    }

    .option-controls {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #f5f5f5;
      padding: 4px;
      border-radius: 20px;
    }

    .quantity-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: #8B0000;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .quantity-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .quantity-value {
      min-width: 30px;
      text-align: center;
      font-weight: 600;
      font-size: 16px;
    }

    .checkbox-icon,
    .radio-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-footer {
      padding: 20px;
      background: #f8f9fa;
      border-top: 1px solid #e0e0e0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .total-price {
      font-size: 20px;
      font-weight: 700;
      color: #8B0000;
    }

    .add-to-cart-modal {
      background: linear-gradient(135deg, #8B0000 0%, #6D0000 100%);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 24px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
    }

    .item-options {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 8px 0;
    }

    .option-btn {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 20px;
      padding: 6px 12px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option-btn.active {
      background: #8B0000;
      color: white;
      border-color: #8B0000;
    }

    .option-btn:hover {
      background: #e0e0e0;
    }

    .option-btn.active:hover {
      background: #6d0000;
    }

    /* Popular Items Slider */
    /* Popular Items Slider - REDESIGNED */
    .popular-slider-section {
      padding: 20px 16px;
      background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%);
      margin-bottom: 16px;
      border-radius: 24px;
      box-shadow: 0 10px 25px rgba(139, 0, 0, 0.15);
      overflow: hidden;
      position: relative;
      border: 1px solid rgba(139, 0, 0, 0.2);
    }

    .popular-slider-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #8B0000, #FF6B6B, #8B0000);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% {
        background-position: -100% 0;
      }

      100% {
        background-position: 200% 0;
      }
    }

    .popular-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      position: relative;
    }

    .popular-header h2 {
      font-size: 22px;
      font-weight: 800;
      color: #8B0000;
      display: flex;
      align-items: center;
      gap: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 2px 2px 4px rgba(139, 0, 0, 0.2);
    }

    .popular-header h2 i {
      font-size: 24px;
      color: #FFD700;
      filter: drop-shadow(0 2px 4px rgba(255, 215, 0, 0.4));
      animation: flame 1.5s ease-in-out infinite;
    }

    @keyframes flame {

      0%,
      100% {
        transform: scale(1);
        opacity: 1;
      }

      50% {
        transform: scale(1.2);
        opacity: 0.9;
      }
    }

    .popular-controls {
      display: flex;
      gap: 8px;
    }

    .popular-controls button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: white;
      color: #8B0000;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(139, 0, 0, 0.2);
      font-size: 16px;
    }

    .popular-controls button:hover {
      background: #8B0000;
      color: white;
      transform: scale(1.1);
      box-shadow: 0 6px 15px rgba(139, 0, 0, 0.3);
    }

    .popular-controls button:active {
      transform: scale(0.95);
    }

    .popular-controls button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .popular-slider-container {
      overflow: hidden;
      position: relative;
      padding: 8px 4px;
    }

    .popular-slider-track {
      display: flex;
      transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      gap: 16px;
    }

    .popular-item {
      flex: 0 0 calc(50% - 8px);
      /* Changed from 33.333% to 50% */
      min-width: 140px;
      /* Slightly larger minimum width */
      background: white;
      border-radius: 20px;
      padding: 16px 8px;
      text-align: center;
      border: 2px solid transparent;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }



    .popular-item::after {
      content: 'üî•';
      position: absolute;
      top: -10px;
      right: -10px;
      font-size: 24px;
      opacity: 0;
      transform: rotate(15deg);
      transition: all 0.3s ease;
      filter: drop-shadow(0 4px 6px rgba(255, 0, 0, 0.4));
    }

    .popular-item:hover::after {
      opacity: 1;
      top: 5px;
      right: 5px;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    .popular-item:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: #8B0000;
      box-shadow: 0 15px 30px rgba(139, 0, 0, 0.25);
    }

    .popular-item-image {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 12px;
      border: 3px solid white;
      box-shadow: 0 5px 15px rgba(139, 0, 0, 0.3);
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }

    .popular-item:hover .popular-item-image {
      transform: scale(1.1) rotate(5deg);
      border-color: #FFD700;
    }

    .popular-item-name {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: #333;
      position: relative;
      z-index: 2;
      transition: all 0.3s ease;
    }

    .popular-item:hover .popular-item-name {
      color: #8B0000;
      transform: scale(1.05);
    }

    .popular-item-price {
      color: #8B0000;
      font-weight: 800;
      font-size: 16px;
      margin-bottom: 12px;
      position: relative;
      z-index: 2;
      text-shadow: 1px 1px 2px rgba(139, 0, 0, 0.2);
    }

    .popular-item-price::before {
      content: 'üî•';
      font-size: 12px;
      margin-right: 4px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .popular-item:hover .popular-item-price::before {
      opacity: 1;
    }

    .popular-item-add {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #8B0000 0%, #6D0000 100%);
      color: white;
      border: none;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
      box-shadow: 0 4px 10px rgba(139, 0, 0, 0.3);
    }

    .popular-item-add:hover {
      transform: scale(1.15) rotate(90deg);
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      box-shadow: 0 6px 15px rgba(255, 215, 0, 0.4);
    }

    .popular-item-add:active {
      transform: scale(0.95);
    }

    .popular-item-add i {
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .popular-item-add:hover i {
      transform: scale(1.2);
    }

    /* Add a "HOT" badge to some items */
    .popular-item[data-popular-index="0"]::before {
      content: 'üî• HOT';
      position: absolute;
      top: 10px;
      left: 10px;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #8B0000;
      font-size: 10px;
      font-weight: 800;
      padding: 4px 8px;
      border-radius: 20px;
      z-index: 10;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      letter-spacing: 0.5px;
    }

    .popular-item[data-popular-index="2"]::before {
      content: '‚≠ê BESTSELLER';
      position: absolute;
      top: 10px;
      left: 10px;
      background: linear-gradient(135deg, #8B0000, #6D0000);
      color: white;
      font-size: 10px;
      font-weight: 800;
      padding: 4px 8px;
      border-radius: 20px;
      z-index: 10;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      letter-spacing: 0.5px;
    }

    /* Responsive */
    /* Remove the old 480px breakpoint and replace with these */
    @media (max-width: 480px) {
      .popular-item {
        flex: 0 0 calc(50% - 8px);
        /* Still 2 items on mobile */
        min-width: 120px;
      }

      .popular-header h2 {
        font-size: 18px;
      }

      .popular-item-image {
        width: 80px;
        /* Slightly larger images */
        height: 80px;
      }
    }

    @media (max-width: 360px) {
      .popular-item {
        flex: 0 0 calc(100% - 0px);
        /* 1 item on very small screens */
        min-width: auto;
      }
    }

    /* Responsive */
    @media (max-width: 480px) {
      .popular-item {
        flex: 0 0 calc(50% - 6px);
      }
    }

    @media (max-width: 360px) {
      .popular-item {
        flex: 0 0 calc(100% - 0px);
      }
    }

    /* Stars animation */
    @keyframes starAnimation {
      0% {
        opacity: 0;
        transform: translate(0, 0) scale(0.5);
      }

      50% {
        opacity: 1;
        transform: translate(var(--tx), var(--ty)) scale(1.2);
      }

      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(1);
      }
    }

    .star {
      position: absolute;
      color: white;
      font-size: 8px;
      opacity: 0;
      pointer-events: none;
    }

    /* View Cart Button */
    .view-cart-btn {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #8B0000;
      color: white;
      border: none;
      border-radius: 30px;
      padding: 12px 25px;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s;
      z-index: 1000;
    }

    .view-cart-btn:hover {
      background-color: #660000;
      transform: translateX(-50%) translateY(-2px);
    }

    .cart-item-count {
      background: #fff;
      color: #8B0000;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
    }

    .whatsapp-float {
      position: fixed;
      right: 20px;
      bottom: 80px;
      z-index: 1000;
    }

    .whatsapp-button img {
      width: 60px;
      height: 60px;
      transition: all 0.3s ease;
    }

    .whatsapp-button:hover img {
      transform: scale(1.1);
    }

    .main-content {
      padding: 16px;
      padding-bottom: 80px;
    }

    .price-badge {
      background: #8B0000;
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 8px;
    }

    .strips-counter {
      background: #8B0000;
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
    }

    .strips-counter.reached {
      background: #28a745;
    }
  </style>

  <script>
    // Global image error handler
    document.addEventListener('error', function (e) {
      if (e.target.tagName === 'IMG') {
        e.target.src = 'https://morocco.kfc.me/assets/no-itm-97c87967.png';
      }
    }, true);
  </script>
</head>

<body>
  <!-- NEW NAVIGATION BAR -->
  <div class="new-navbar">
    <div class="nav-left"><button class="nav-btn" id="backBtn"><i class="fas fa-arrow-left"></i></button></div>
    <div class="nav-center">
      <h1 class="page-title">KFC</h1>
    </div>
    <div class="nav-right">
      <button class="nav-btn" id="searchBtn"><i class="fas fa-search"></i></button>
      <button class="nav-btn" id="shareBtn"><i class="fas fa-share-alt"></i></button>
    </div>
  </div>

  <!-- Hero Image -->
  <div class="hero-section">
    <img src="https://i.ibb.co/wrLrWv89/Delivery-marrakech-kfc.jpg" alt="KFC Delivery Marrakech" class="hero-image">
    <div class="hero-overlay">
      <h1 class="hero-title">KFC Delivery</h1>
      <p class="hero-subtitle">Finger Lickin' Good Chicken 24/7</p>
    </div>
  </div>

  <!-- Restaurant Info -->
  <div class="restaurant-info">
    <h2 class="restaurant-name">KFC Marrakech</h2>
    <div class="rating-delivery">
      <div class="rating"><span class="rating-value">4.8</span><i class="fas fa-star"></i><span>(1247 ratings)</span>
      </div>
      <div class="delivery-time"><i class="fas fa-clock delivery-icon"></i><span>20-30 min</span></div>
    </div>
  </div>

  <!-- Categories Navigation -->
  <div class="categories-section">
    <div class="categories" id="categoriesContainer"></div>
  </div>

  <!-- Popular Items Slider -->
  <div class="popular-slider-section" id="popularSliderSection">
    <div class="popular-header">
      <h2><i class="fas fa-fire"></i> Most Popular</h2>
      <div class="popular-controls">
        <button id="popularPrevBtn" disabled><i class="fas fa-chevron-left"></i></button>
        <button id="popularNextBtn"><i class="fas fa-chevron-right"></i></button>
      </div>
    </div>
    <div class="popular-slider-container">
      <div class="popular-slider-track" id="popularSliderTrack">
        <!-- Items will be added dynamically by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Main Content: will be filled by renderMenu() -->
  <div class="main-content" id="menuContainer"></div>

  <!-- Customization Modal -->
  <div class="customization-modal" id="customizationModal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="modal-close" onclick="closeCustomization()">√ó</button>
        <h3 class="modal-title" id="modalProductName">Product Name</h3>
        <p class="modal-description" id="modalProductDescription"></p>
      </div>
      <div class="modal-body" id="customizationBody"></div>
      <div class="modal-footer">
        <div class="total-price">MAD <span id="modalTotalPrice">0.00</span></div>
        <button class="add-to-cart-modal" onclick="addCustomizedToCart()">Add to Cart</button>
      </div>
    </div>
  </div>

  <!-- WhatsApp Float Button -->
  <div class="whatsapp-float"><a
      href="https://wa.me/212642620325?text=Hello%2C%20I%20would%20like%20to%20order%20KFC%20please" target="_blank"
      class="whatsapp-button"><img src="https://i.postimg.cc/3W5Bw2hp/IMG-1812.png" alt="WhatsApp"></a></div>

  <!-- View Cart Button -->
  <button class="view-cart-btn" id="viewCartBtn"><i class="fas fa-shopping-cart"></i> View Cart <span
      class="cart-item-count" id="cartItemCount">0</span></button>

  <!-- Stars Container -->
  <div class="stars-container" id="starsContainer"></div>

  <script>
    (function () {
      // ---------- CONFIGURATION ----------
      const KFC_CONFIG = {
        cartKey: 'unifiedCart',
        restaurantName: 'KFC Marrakech',
        restaurantId: 'kfc',
        whatsappNumber: '212642620325',
        emoji: 'üçó'
      };

      // Helper function for images
      function getImageUrl(url) {
        if (!url || url === '' || url.includes('no-itm') || url.includes('assets/no-itm')) {
          return 'https://morocco.kfc.me/assets/no-itm-97c87967.png';
        }
        return url;
      }

      // Shared options
      const BEVERAGE_OPTIONS = [
        { id: 'pepsi-regular', name: 'Pepsi Regular', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600002.png' },
        { id: 'diet-pepsi-regular', name: 'Diet Pepsi Regular', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600005.png' },
        { id: '7up-regular', name: '7Up Regular', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600015.png' },
        { id: 'mirinda-regular', name: 'Mirinda Regular', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600008.png' },
        { id: 'pepsi-can', name: 'Pepsi Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600074.png' },
        { id: '7up-can', name: '7 Up Can 25CL', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616046.png' },
        { id: 'mirinda-can', name: 'Mirinda Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616048.png' },
        { id: 'pepsi-diet', name: 'Pepsi Diet Can', price: 0, img: '' },
        { id: 'water', name: 'Water', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/618012.png' },
        { id: 'pepsi-1l', name: 'Pepsi 1L', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600064.png' },
        { id: 'diet-pepsi-1l', name: 'Diet Pepsi 1L', price: 0, img: '' },
        { id: 'mirinda-1l', name: 'Mirinda 1L', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600066.png' },
        { id: '7up-1l', name: '7 Up 1L', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600068.png' },
        { id: 'pepsi-1.5l', name: 'Pepsi 1.5L', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/610201.png' },
        { id: '7up-1.5l', name: '7 Up 1.5L', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/610202.png' },
        { id: 'mirinda-1.5l', name: 'Mirinda 1.5L', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/610203.png' },
        { id: 'mojito', name: 'Mojito', price: 15.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/610021.png' }
      ];

      const SAUCE_OPTIONS = [
        { id: 'dynamite', name: 'Dynamite Sauce', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810028.png' },
        { id: 'spicy-bbq', name: 'Spicy BBQ Sauce', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810042.png' },
        { id: 'sweet-chilli', name: 'Sweet Chilli Sauce', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816003.png' },
        { id: 'mayonnaise', name: 'Mayonnaise', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810003.png' },
        { id: 'chili-mayo', name: 'Chili Mayo', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810038.png' },
        { id: 'rizo-arabitta', name: 'Rizo - Arabitta Sauce', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510009.png' },
        { id: 'rizo-chilli', name: 'Rizo - Chilli Sauce', price: 0, img: '' }// image missing on KFC site
      ];

      const SIDE_OPTIONS = {
        regularFries: { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' },
        familyFries: { id: 'family-fries', name: 'Family Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510005.png' },
        coleslawSmall: { id: 'coleslaw-small', name: 'Coleslaw Small', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png' },
        coleslawLarge: { id: 'coleslaw-large', name: 'Coleslaw Large', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510002.png' }
      };

      const STRIP_OPTIONS = {
        original: { id: 'strip-original', name: 'Crispy Strips - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png' },
        spicy: { id: 'strip-spicy', name: 'Crispy Strips - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png' }
      };

      const CHICKEN_OPTIONS = {
        original: { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
        spicy: { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' }
      };

      const WING_OPTIONS = {
        hotWings: { id: 'hot-wings', name: 'Hot Wings', price: 0, img: '' }
      };

      const ADD_ON_OPTIONS = [
        { id: 'no-addon', name: 'No Add On', price: 0, img: '' }
      ];

      // MENU DATA - Updated with all bucket products
      const MENU_CATEGORIES = [
        {
          id: 'bucketsSection',
          name: 'Chicken Buckets',
          icon: 'fas fa-drumstick-bite',
          products: [
            // Bucket Jma3a (NEW)
            {
              id: 'bucket-jma3a',
              name: 'Bucket Jma3a',
              description: '10 wings + 10 strips + Family Fries + 3 dips',
              price: 175.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20217-combo.png'),
              type: 'bucket-jma3a',
              wingsTotal: 10,
              stripsTotal: 10,
              dipsTotal: 3,
              hasFamilyFries: true
            },
            // Epic Buckets
            {
              id: '8-pcs-epic-bucket',
              name: '8 Pcs Epic Bucket',
              description: '8 Strips + 3 Dips',
              price: 110.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20178-combo.png'),
              type: 'epic-bucket',
              stripsTotal: 8,
              dipsTotal: 3
            },
            {
              id: '12-pcs-epic-bucket',
              name: '12 Pcs Epic Bucket',
              description: '12 Strips + 3 Dips',
              price: 140.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20179-combo.png'),
              type: 'epic-bucket',
              stripsTotal: 12,
              dipsTotal: 3
            },
            {
              id: '16-pcs-epic-bucket',
              name: '16 Pcs Epic Bucket',
              description: '16 Strips + 6 Dips',
              price: 170.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20180-combo.png'),
              type: 'epic-bucket',
              stripsTotal: 16,
              dipsTotal: 6
            },
            {
              id: '20-pcs-epic-bucket',
              name: '20 Pcs Epic Bucket',
              description: '20 Strips + 6 Dips',
              price: 200.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20181-combo.png'),
              type: 'epic-bucket',
              stripsTotal: 20,
              dipsTotal: 6
            },
            // Loaded Buckets
            {
              id: '8-pcs-loaded-bucket',
              name: '8 Pcs Loaded Bucket',
              description: '8 Strips + FF Fries + CLWS + 1L Drink + 3 Dips',
              price: 150.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20182-combo.png'),
              type: 'loaded-bucket',
              stripsTotal: 8,
              dipsTotal: 3,
              drinkSize: '1L'
            },
            {
              id: '12-pcs-loaded-bucket',
              name: '12 Pcs Loaded Bucket',
              description: '12 Strips + FF Fries + CLWS + 1L Drink + 3 Dips',
              price: 180.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20183-combo.png'),
              type: 'loaded-bucket',
              stripsTotal: 12,
              dipsTotal: 3,
              drinkSize: '1L'
            },
            {
              id: '16-pcs-loaded-bucket',
              name: '16 Pcs Loaded Bucket',
              description: '16 Strips + FF Fries + CLWS + 1.5L Drink + 6 Dips',
              price: 210.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20184-combo.png'),
              type: 'loaded-bucket',
              stripsTotal: 16,
              dipsTotal: 6,
              drinkSize: '1.5L'
            },
            {
              id: '20-pcs-loaded-bucket',
              name: '20 Pcs Loaded Bucket',
              description: '20 Strips + 1 FF Fries + 1 CLWS + 1.5L Drink + 6 Dips',
              price: 240.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20185-combo.png'),
              type: 'loaded-bucket',
              stripsTotal: 20,
              dipsTotal: 6,
              drinkSize: '1.5L'
            },
            // Mighty Buckets
            {
              id: '12-pcs-mighty-bucket',
              name: '12 Pcs Mighty Bucket',
              description: '8 Strips + FF Fries + CLWS + 1L Drink + 4 COB + 3 Dips',
              price: 190.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20186-combo.png'),
              type: 'mighty-bucket',
              stripsTotal: 8,
              chickenTotal: 4,
              dipsTotal: 3,
              drinkSize: '1L'
            },
            {
              id: '18-pcs-mighty-bucket',
              name: '18 Pcs Mighty Bucket',
              description: '12 Strips + FF Fries + CLWS + 1L Drink + 6 COB + 3 Dips',
              price: 240.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20187-combo.png'),
              type: 'mighty-bucket',
              stripsTotal: 12,
              chickenTotal: 6,
              dipsTotal: 3,
              drinkSize: '1L'
            },
            {
              id: '24-pcs-mighty-bucket',
              name: '24 Pcs Mighty Bucket',
              description: '16 Strips + FF Fries + CLWS + 1.5L Drink + 8 COB + 6 Dips',
              price: 290.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20188-combo.png'),
              type: 'mighty-bucket',
              stripsTotal: 16,
              chickenTotal: 8,
              dipsTotal: 6,
              drinkSize: '1.5L'
            },
            {
              id: '30-pcs-mighty-bucket',
              name: '30 Pcs Mighty Bucket',
              description: '20 Strips + FF Fries + CLWS + 1.5L Drink + 10 COB + 6 Dips',
              price: 340.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20189-combo.png'),
              type: 'mighty-bucket',
              stripsTotal: 20,
              chickenTotal: 10,
              dipsTotal: 6,
              drinkSize: '1.5L'
            }
          ]
        },
        {
          id: 'harissaSection',
          name: 'Harissa',
          icon: 'fas fa-pepper-hot',
          products: [
            { id: 'royal-harissa-spicy', name: 'Royal Harissa Sandwich - Spicy', description: 'Spicy Harissa sandwich', price: 35.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110111.png'), type: 'simple' },
            { id: 'royal-harissa-original', name: 'Royal Harissa Sandwich Original', description: 'Original Harissa sandwich', price: 35.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110112.png'), type: 'simple' },
            {
              id: 'harissa-royal-meal',
              name: 'Harissa Royal Meal',
              description: 'Harissa Royal Sandwich + fries + drink',
              price: 53.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png'),
              type: 'harissa-meal',
              sandwichOptions: [
                { id: 'royal-spicy', name: 'Royal Harissa Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110111.png') },
                { id: 'royal-original', name: 'Royal Harissa Sandwich Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110112.png') }
              ]
            },
            {
              id: 'harissa-royal-box',
              name: 'Harissa Royal Box',
              description: 'Harissa Royal Sandwich + 1 piece of chicken + fries + coleslaw + drink',
              price: 68.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png'),
              type: 'harissa-box',
              sandwichOptions: [
                { id: 'royal-spicy', name: 'Royal Harissa Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110111.png') },
                { id: 'royal-original', name: 'Royal Harissa Sandwich Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110112.png') }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ]
            },
            { id: 'mighty-royal-spicy', name: 'Mighty Royal Harissa Sandwich - Spicy', description: 'Large spicy Harissa sandwich', price: 54.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110113.png'), type: 'simple' },
            { id: 'mighty-royal-original', name: 'Mighty Royal Harissa Sandwich - Original', description: 'Large original Harissa sandwich', price: 54.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110114.png'), type: 'simple' },
            {
              id: 'harissa-mighty-combo',
              name: 'Harissa Mighty Royal Combo',
              description: 'Harissa Mighty Royal Sandwich + Fries + Drink',
              price: 72.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png'),
              type: 'harissa-mighty-combo',
              sandwichOptions: [
                { id: 'mighty-spicy', name: 'Mighty Royal Harissa Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110113.png') },
                { id: 'mighty-original', name: 'Mighty Royal Harissa Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110114.png') }
              ]
            },
            {
              id: 'harissa-mighty-box',
              name: 'Harissa Mighty Royal Box',
              description: 'Harissa Mighty Royal Sandwich + Fries + Chicken Pie + Cole Slaw + Drink',
              price: 87.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png'),
              type: 'harissa-mighty-box',
              sandwichOptions: [
                { id: 'mighty-spicy', name: 'Mighty Royal Harissa Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110113.png') },
                { id: 'mighty-original', name: 'Mighty Royal Harissa Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110114.png') }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ]
            },
            {
              id: 'harissa-twister',
              name: 'Harissa Twister',
              description: 'Twisted Harissa sandwich',
              price: 58.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110088.png'),
              type: 'harissa-twister',
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'harissa-twister-combo',
              name: 'Harissa Twister Combo',
              description: 'Twister sandwich + fries + drink',
              price: 76.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png'),
              type: 'harissa-twister-combo',
              sandwichOptions: [
                { id: 'twister', name: 'Harissa Twister', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110088.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'harissa-twister-box',
              name: 'Harissa Twister Box',
              description: 'Twister sandwich + fries + chicken pie + coleslaw + drink',
              price: 99.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png'),
              type: 'harissa-twister-box',
              sandwichOptions: [
                { id: 'twister', name: 'Harissa Twister', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110088.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ]
            }
          ]
        },
        {
          id: 'hmizatesSection',
          name: 'Hmizates',
          icon: 'fas fa-bolt',
          products: [
            {
              id: 'strips-epic-plus',
              name: 'Strips Epic Plus',
              description: '3 Strips + Regular Fries + Dip + Drink',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20225-combo.png'),
              type: 'strips-epic',
              hasDrink: true,
              stripsTotal: 3
            },
            {
              id: 'strips-epic-meal',
              name: 'Strips Epic Meal',
              description: '3 Strips + Regular Fries + Dip',
              price: 42.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20221-combo.png'),
              type: 'strips-epic',
              hasDrink: false,
              stripsTotal: 3
            },
            {
              id: 'chicken-epic-plus',
              name: 'Chicken Epic Plus',
              description: '2 pi√®ces original Chicken + Strip + Regular coleslaw + Drink',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20226-combo.png'),
              type: 'chicken-epic',
              hasDrink: true
            },
            {
              id: 'chicken-epic-meal',
              name: 'Chicken Epic Meal',
              description: '2 pi√®ces original Chicken + Strip + Regular coleslaw',
              price: 42.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20222-combo.png'),
              type: 'chicken-epic',
              hasDrink: false
            },
            {
              id: 'twister-epic-plus',
              name: 'Twister Epic Plus',
              description: 'Twister + strip + dip + drink',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20224-combo.png'),
              type: 'twister-epic',
              hasDrink: true,
              sandwichOptions: [
                { id: 'twister-spicy', name: 'Twister Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png') },
                { id: 'twister-original', name: 'Twister Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'twister-epic-meal',
              name: 'Twister Epic Meal',
              description: 'Twister + strip + dip',
              price: 42.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20220-combo.png'),
              type: 'twister-epic',
              hasDrink: false,
              sandwichOptions: [
                { id: 'twister-spicy', name: 'Twister Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png') },
                { id: 'twister-original', name: 'Twister Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'cruncher-epic-plus',
              name: 'Cruncher Epic Plus',
              description: 'Cruncher sandwich + Strip + Dip + Drink',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20223-combo.png'),
              type: 'cruncher-epic',
              hasDrink: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'cruncher-epic-meal',
              name: 'Cruncher Epic Meal',
              description: 'Cruncher sandwich + Strip + Dip',
              price: 42.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20219-combo.png'),
              type: 'cruncher-epic',
              hasDrink: false,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            }
          ]
        },
        {
          id: 'twisterBurgersSection',
          name: 'Twister & Burgers',
          icon: 'fas fa-hamburger',
          products: [
            {
              id: 'mighty-royal-original',
              name: 'Mighty Royal - Original',
              description: 'Mighty Royal - Original',
              price: 52.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110090.png'),
              type: 'mighty-royal-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'mighty-royal-spicy',
              name: 'Mighty Royal - Spicy',
              description: 'Mighty Royal - Spicy',
              price: 52.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110091.png'),
              type: 'mighty-royal-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'mighty-royal-combo',
              name: 'Mighty Royal Combo',
              description: 'Mighty Royal Sandwich + Fries + Drink',
              price: 67.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/288-combo.png'),
              type: 'mighty-royal-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 67.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/288-combo.png' },
                { id: 'large', name: 'Large', price: 74.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/289-combo.png' }
              ],
              sandwichOptions: [
                { id: 'mighty-royal-original', name: 'Mighty Royal - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110090.png') },
                { id: 'mighty-royal-spicy', name: 'Mighty Royal - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110091.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-royal-box',
              name: 'Mighty Royal Box',
              description: 'Mighty Royal Sandwich + 1 piece of chicken + Fries + Coleslaw + Drink',
              price: 82.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/293-combo.png'),
              type: 'mighty-royal-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 82.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/293-combo.png' },
                { id: 'large', name: 'Large', price: 89.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/294-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'mighty-royal-original', name: 'Mighty Royal - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110090.png') },
                { id: 'mighty-royal-spicy', name: 'Mighty Royal - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110091.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              secondSideOptions: [
                { id: 'coleslaw-small', name: 'Coleslaw Small', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-royal-twist',
              name: 'Mighty Royal Twist',
              description: 'Mighty Royal Sandwich + Twister + Fries + Drink',
              price: 85.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/298-combo.png'),
              type: 'mighty-royal-twist',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 85.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/298-combo.png' },
                { id: 'large', name: 'Large', price: 92.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/299-combo.png' }
              ],
              sandwichOptions: [
                { id: 'mighty-royal-original', name: 'Mighty Royal - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110090.png') },
                { id: 'mighty-royal-spicy', name: 'Mighty Royal - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110091.png') }
              ],
              condimentOptions1: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              twisterOptions: [
                { id: 'twister-original', name: 'Twister Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png') },
                { id: 'twister-spicy', name: 'Twister Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png') }
              ],
              condimentOptions2: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-royal-duo',
              name: 'Mighty Royal Duo',
              description: '2 Mighty Royal Sandwich + Fries + Drink',
              price: 95.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/301-combo.png'),
              type: 'mighty-royal-duo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 95.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/301-combo.png' },
                { id: 'large', name: 'Large', price: 102.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/302-combo.png' }
              ],
              sandwich1Options: [
                { id: 'mighty-royal-original', name: 'Mighty Royal - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110090.png') },
                { id: 'mighty-royal-spicy', name: 'Mighty Royal - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110091.png') }
              ],
              condimentOptions1: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sandwich2Options: [
                { id: 'mighty-royal-original', name: 'Mighty Royal - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110090.png') },
                { id: 'mighty-royal-spicy', name: 'Mighty Royal - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110091.png') }
              ],
              condimentOptions2: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-cruncher-spicy',
              name: 'Mighty Cruncher Sandwich - Spicy',
              description: 'Mighty Cruncher Sandwich',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110084.png'),
              type: 'mighty-cruncher-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'mighty-cruncher-original',
              name: 'Mighty Cruncher Sandwich - Original',
              description: 'Mighty Cruncher Sandwich - Original',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110085.png'),
              type: 'mighty-cruncher-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'mighty-cruncher-box',
              name: 'Mighty Cruncher Box',
              description: 'Mighty Cruncher Sandwich + 1 pc chicken + fries + coleslaw + drink',
              price: 78.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/366-combo.png'),
              type: 'mighty-cruncher-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 78.00, img: '' },
                { id: 'large', name: 'Large', price: 85.00, img: '' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'mighty-cruncher-spicy', name: 'Mighty Cruncher Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110084.png') },
                { id: 'mighty-cruncher-original', name: 'Mighty Cruncher Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110085.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              secondSideOptions: [
                { id: 'coleslaw-small', name: 'Coleslaw Small', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-cruncher-combo',
              name: 'Mighty Cruncher Combo',
              description: 'Mighty Cruncher Sandwich + fries + drink',
              price: 63.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/363-combo.png'),
              type: 'mighty-cruncher-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 63.00, img: '' },
                { id: 'large', name: 'Large', price: 70.00, img: '' }
              ],
              sandwichOptions: [
                { id: 'mighty-cruncher-spicy', name: 'Mighty Cruncher Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110084.png') },
                { id: 'mighty-cruncher-original', name: 'Mighty Cruncher Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110085.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' },
                { id: 'loaded-fries', name: 'Loaded Fries', price: 0, img: '' },
                { id: 'medium-potato-dipper', name: 'Medium Potato Dipper', price: 0, img: '' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'lkrispi-box',
              name: 'L\'Krispi Box',
              description: 'L\'Krispi Sandwich + 1 piece of chicken + Fries + Coleslaw + Drink',
              price: 53.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/339-combo.png'),
              type: 'lkrispi-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 53.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/340-combo.png' },
                { id: 'large', name: 'Large', price: 60.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/339-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'lkrispi-original', name: 'L\'Krispi Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110103.png') },
                { id: 'lkrispi-spicy', name: 'L\'Krispi Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110104.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              secondSideOptions: [
                { id: 'coleslaw-small', name: 'Coleslaw Small', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png' }
              ],
              beverageOptions: [
                { id: 'pepsi-can', name: 'Pepsi Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600074.png' },
                { id: 'mirinda-can', name: 'Mirinda Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616048.png' }
              ],
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'lkrispi-combo',
              name: 'L\'Krispi Combo',
              description: 'L\'Krispi Sandwich + Fries + Drink',
              price: 38.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/342-combo.png'),
              type: 'lkrispi-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 38.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/343-combo.png' },
                { id: 'large', name: 'Large', price: 45.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/342-combo.png' }
              ],
              sandwichOptions: [
                { id: 'lkrispi-original', name: 'L\'Krispi Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110103.png') },
                { id: 'lkrispi-spicy', name: 'L\'Krispi Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110104.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'lkrispi-original',
              name: 'L\'Krispi Sandwich - Original',
              description: 'Sandwich L\'Krispi',
              price: 23.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110103.png'),
              type: 'lkrispi-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'lkrispi-spicy',
              name: 'L\'Krispi Sandwich - Spicy',
              description: 'Sandwich L\'Krispi',
              price: 23.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110104.png'),
              type: 'lkrispi-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'lkrispi-twist',
              name: 'L\'Krispi Twist',
              description: 'L\'Krispi Sandwich + Twister + Fries + Drink',
              price: 59.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/331-combo.png'),
              type: 'lkrispi-twist',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 59.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/332-combo.png' },
                { id: 'large', name: 'Large', price: 66.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/331-combo.png' }
              ],
              sandwichOptions: [
                { id: 'lkrispi-original', name: 'L\'Krispi - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110103.png') },
                { id: 'lkrispi-spicy', name: 'L\'Krispi - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110104.png') }
              ],
              condimentOptions1: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              twisterOptions: [
                { id: 'twister-original', name: 'Twister - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png') },
                { id: 'twister-spicy', name: 'Twister - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png') }
              ],
              condimentOptions2: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              beverageOptions: [
                { id: 'pepsi-can', name: 'Pepsi Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600074.png' },
                { id: 'mirinda-can', name: 'Mirinda Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616048.png' }
              ],
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'lkrispi-duo',
              name: 'L\'Krispi Duo',
              description: '2 L\'Krispi Sandwich + Fries + Drink',
              price: 52.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/336-combo.png'),
              type: 'lkrispi-duo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 52.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/337-combo.png' },
                { id: 'large', name: 'Large', price: 59.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/336-combo.png' }
              ],
              sandwich1Options: [
                { id: 'lkrispi-original', name: 'L\'Krispi - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110103.png') },
                { id: 'lkrispi-spicy', name: 'L\'Krispi - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110104.png') }
              ],
              condimentOptions1: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sandwich2Options: [
                { id: 'lkrispi-original', name: 'L\'Krispi - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110103.png') },
                { id: 'lkrispi-spicy', name: 'L\'Krispi - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110104.png') }
              ],
              condimentOptions2: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                { id: 'regular-fries', name: 'Regular Fries', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png' }
              ],
              beverageOptions: [
                { id: 'pepsi-can', name: 'Pepsi Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600074.png' },
                { id: 'mirinda-can', name: 'Mirinda Can', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616048.png' }
              ],
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: '4pc-crispy-strips-meal',
              name: '4 Pcs Crispy strips Meal',
              description: '4 Strips + Fries + Coleslaw + Dip + Bun + Drink',
              price: 68.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/304-combo.png'),
              type: 'crispy-strips-meal',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 68.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/304-combo.png' },
                { id: 'large', name: 'Large', price: 75.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/305-combo.png' }
              ],
              stripsTotal: 4,
              sauceOptions: SAUCE_OPTIONS,
              bunOptions: [
                { id: 'bun', name: 'Bun', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810002.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: '6pc-crispy-strips-meal',
              name: '6 Pcs Crispy strips Meal',
              description: '6 Strips + Fries + Coleslaw + 2 Dips + Bun + Drink',
              price: 82.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/308-combo.png'),
              type: 'crispy-strips-meal',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 82.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/308-combo.png' },
                { id: 'large', name: 'Large', price: 89.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/309-combo.png' }
              ],
              stripsTotal: 6,
              sauceOptions: SAUCE_OPTIONS,
              bunOptions: [
                { id: 'bun', name: 'Bun', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810002.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'royal-box',
              name: 'Royal Box',
              description: 'Royal Sandwich + 1 piece of chicken + Fries + Coleslaw + drink',
              price: 63.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/369-combo.png'),
              type: 'royal-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 63.00, img: '' },
                { id: 'large', name: 'Large', price: 70.00, img: '' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911504.png' }
              ],
              sandwichOptions: [
                { id: 'royal-original', name: 'Royal Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110019.png') },
                { id: 'royal-spicy', name: 'Royal Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110020.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                { id: 'chicken-original', name: 'Chicken Pc - Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png' },
                { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png' },
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: '6in1-royal-box',
              name: '6 in 1 Royal Box',
              description: 'Royal sandwich + 1 piece of chicken + 1 strip + coleslaw + fries + drink',
              price: 69.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/400-combo.png'),
              type: '6in1-royal-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 69.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/400-combo.png' },
                { id: 'large', name: 'Large', price: 76.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/402-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911504.png' }
              ],
              sandwichOptions: [
                { id: 'royal-original', name: 'Royal Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110019.png') },
                { id: 'royal-spicy', name: 'Royal Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110020.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              chickenOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              stripOptions: [
                STRIP_OPTIONS.original,
                STRIP_OPTIONS.spicy
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'royal-sandwich-spicy',
              name: 'Royal Sandwich - Spicy',
              description: '',
              price: 33.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110020.png'),
              type: 'simple'
            },
            {
              id: 'royal-sandwich-original',
              name: 'Royal Sandwich - Original',
              description: '',
              price: 33.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110019.png'),
              type: 'simple'
            },
            {
              id: 'royal-combo',
              name: 'Royal combo',
              description: 'Royal sandwich + Fries + drink',
              price: 48.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/168-combo.png'),
              type: 'royal-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 48.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/168-combo.png' },
                { id: 'large', name: 'Large', price: 55.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/169-combo.png' }
              ],
              sandwichOptions: [
                { id: 'royal-original', name: 'Royal Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110019.png') },
                { id: 'royal-spicy', name: 'Royal Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110020.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'cruncher-box',
              name: 'Cruncher Box',
              description: 'Sandwich Cruncher + 1 piece of chicken + Fries + drink + coleslaw',
              price: 72.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/164-combo.png'),
              type: 'cruncher-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 72.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/164-combo.png' },
                { id: 'large', name: 'Large', price: 79.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/165-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'cruncher', name: 'Sandwich Cruncher', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110058.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'cruncher-combo',
              name: 'Cruncher Combo',
              description: 'Dynamite Sandwich + Fries + drink',
              price: 57.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/106-combo.png'),
              type: 'cruncher-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 57.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/106-combo.png' },
                { id: 'large', name: 'Large', price: 64.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/107-combo.png' }
              ],
              sandwichOptions: [
                { id: 'cruncher', name: 'Sandwich Cruncher', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110058.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'sandwich-cruncher',
              name: 'Sandwich Cruncher',
              description: 'Dynamite Sandwich',
              price: 42.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110058.png'),
              type: 'cruncher-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'zinger-sandwich',
              name: 'Zinger Sandwich',
              description: 'Zinger Sandwich',
              price: 53.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110001.png'),
              type: 'zinger-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'zinger-combo',
              name: 'Zinger Combo',
              description: 'Zinger Sandwich + Fries + drink',
              price: 68.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/170-combo.png'),
              type: 'zinger-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 68.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/170-combo.png' },
                { id: 'large', name: 'Large', price: 75.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/171-combo.png' }
              ],
              sandwichOptions: [
                { id: 'zinger-sandwich', name: 'Zinger Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110001.png') },
                { id: 'zinger-spicy', name: 'Zinger Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110004.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'zinger-box',
              name: 'Zinger Box',
              description: 'Zinger Sandwich + 1pc Chicken + Fries + Coleslaw + Drink',
              price: 83.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/36-combo.png'),
              type: 'zinger-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 83.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/36-combo.png' },
                { id: 'large', name: 'Large', price: 90.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/37-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'zinger-sandwich', name: 'Zinger Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110001.png') },
                { id: 'zinger-spicy', name: 'Zinger Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110004.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'loaded-twister-spicy',
              name: 'Loaded Twister Spicy',
              description: 'Loaded Twister Spicy',
              price: 50.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/115008.png'),
              type: 'loaded-twister-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'loaded-twister-original',
              name: 'Loaded Twister Original',
              description: 'Loaded Twister Original',
              price: 50.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/115009.png'),
              type: 'loaded-twister-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'loaded-twister-combo',
              name: 'Loaded Twister Combo',
              description: 'Loaded Twister Sandwich + Fries + Drink',
              price: 65.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/195-combo.png'),
              type: 'loaded-twister-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 65.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/195-combo.png' },
                { id: 'large', name: 'Large', price: 72.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/196-combo.png' }
              ],
              sandwichOptions: [
                { id: 'loaded-twister-original', name: 'Loaded Twister Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/115009.png') },
                { id: 'loaded-twister-spicy', name: 'Loaded Twister Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/115008.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'loaded-twister-box',
              name: 'Loaded Twister Box',
              description: 'Loaded Twister Sandwich + 1 piece of chicken + Coleslaw Salad + Fries + Drink',
              price: 80.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20163-combo.png'),
              type: 'loaded-twister-box',
              sandwichOptions: [
                { id: 'loaded-twister-original', name: 'Loaded Twister Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/115009.png') },
                { id: 'loaded-twister-spicy', name: 'Loaded Twister Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/115008.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-zinger-original',
              name: 'Mighty Zinger Sandwich - Original',
              description: 'Mighty Zinger Sandwich - Original',
              price: 71.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110025.png'),
              type: 'mighty-zinger-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'mighty-zinger-spicy',
              name: 'Mighty Zinger Sandwich - Spicy',
              description: 'Mighty Zinger Sandwich - Spicy',
              price: 71.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110005.png'),
              type: 'mighty-zinger-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'mighty-zinger-combo',
              name: 'Mighty Zinger Combo',
              description: 'Mighty zinger sandwich + Fries + drink',
              price: 86.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/94-combo.png'),
              type: 'mighty-zinger-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 86.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/94-combo.png' },
                { id: 'large', name: 'Large', price: 93.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/95-combo.png' }
              ],
              sandwichOptions: [
                { id: 'mighty-zinger-original', name: 'Mighty Zinger - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110025.png') },
                { id: 'mighty-zinger-spicy', name: 'Mighty Zinger - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110005.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'mighty-zinger-box',
              name: 'Mighty Zinger Box',
              description: 'Mighty Zinger Sandwich + 1 piece of chicken + Fries + Coleslaw salad + drink',
              price: 101.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/166-combo.png'),
              type: 'mighty-zinger-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 101.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/166-combo.png' },
                { id: 'large', name: 'Large', price: 108.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/167-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'mighty-zinger-original', name: 'Mighty Zinger - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110025.png') },
                { id: 'mighty-zinger-spicy', name: 'Mighty Zinger - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110005.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'twister-spicy',
              name: 'Twister Sandwich - Spicy',
              description: 'TWISTER SANDWICH - SPICY',
              price: 38.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png'),
              type: 'twister-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'twister-original',
              name: 'Twister Sandwich - Original',
              description: 'Twister Sandwich - Original',
              price: 38.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png'),
              type: 'twister-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'twister-combo',
              name: 'Twister Combo',
              description: 'Twister sandwich + Fries+ drink',
              price: 53.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/73-combo.png'),
              type: 'twister-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 53.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/73-combo.png' },
                { id: 'large', name: 'Large', price: 60.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/77-combo.png' }
              ],
              sandwichOptions: [
                { id: 'twister-original', name: 'Twister - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png') },
                { id: 'twister-spicy', name: 'Twister - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'twister-box',
              name: 'Twister Box',
              description: 'Twister Sandwich + Fries + 1 piece of chicken + Coleslaw salad + drink',
              price: 68.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/35-combo.png'),
              type: 'twister-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 68.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/35-combo.png' },
                { id: 'large', name: 'Large', price: 75.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/65-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'twister-original', name: 'Twister - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png') },
                { id: 'twister-spicy', name: 'Twister - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'zinger-supreme-spicy',
              name: 'Zinger Supreme Sandwich - Spicy',
              description: 'Zinger Supreme Sandwich - Spicy',
              price: 63.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110009.png'),
              type: 'supreme-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'filet-supreme-original',
              name: 'Filet Supreme Sandwich - Original',
              description: 'Filet Supreme Sandwich - Original',
              price: 63.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110008.png'),
              type: 'supreme-simple',
              hasCondiments: true,
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ]
            },
            {
              id: 'supreme-combo',
              name: 'Supreme Combo',
              description: 'Supreme sandwich + fries + drink',
              price: 78.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/109-combo.png'),
              type: 'supreme-combo',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 78.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/109-combo.png' },
                { id: 'large', name: 'Large', price: 85.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/111-combo.png' }
              ],
              sandwichOptions: [
                { id: 'zinger-supreme-spicy', name: 'Zinger Supreme - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110009.png') },
                { id: 'filet-supreme-original', name: 'Filet Supreme - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110008.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            },
            {
              id: 'supreme-box',
              name: 'Supreme Box',
              description: 'Supreme sandwich + 1 piece of chicken + Fries + drink + coleslaw',
              price: 93.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/64-combo.png'),
              type: 'supreme-box',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 93.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/64-combo.png' },
                { id: 'large', name: 'Large', price: 100.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/34-combo.png' }
              ],
              boxOptions: [
                { id: 'box-meal', name: 'Box Meal', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png' }
              ],
              sandwichOptions: [
                { id: 'zinger-supreme-spicy', name: 'Zinger Supreme - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110009.png') },
                { id: 'filet-supreme-original', name: 'Filet Supreme - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110008.png') }
              ],
              condimentOptions: [
                {
                  id: 'american-cheese',
                  name: 'American Cheese',
                  price: 0,
                  img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png',
                  subOptions: [
                    { id: 'regular', name: 'Regular', price: 0 },
                    { id: 'extra', name: 'Extra', price: 2.00 }
                  ]
                }
              ],
              stripsOptions: [
                CHICKEN_OPTIONS.original,
                CHICKEN_OPTIONS.spicy,
                { id: '2strips-original1', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511006.png' },
                { id: '2strips-original2', name: '2 Pcs Strips - Original', price: 3.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511007.png' }
              ],
              sideOptions: [
                SIDE_OPTIONS.regularFries
              ],
              secondSideOptions: [
                SIDE_OPTIONS.coleslawSmall
              ],
              beverageOptions: BEVERAGE_OPTIONS,
              addonOptions: ADD_ON_OPTIONS
            }
          ]

        },
        {
          id: 'chickenMealsSection',
          name: 'Chicken Meals',
          icon: 'fas fa-drumstick-bite',
          products: [
            // My Bucket Plus
            {
              id: 'my-bucket-plus',
              name: 'My Bucket Plus',
              description: '1 piece of chicken + 2 pieces of strips + fries + drink + rice + sauce arrabiata',
              price: 89.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20133-combo.png'),
              type: 'my-bucket-plus',
              chickenCount: 1,
              stripsCount: 2,
              hasFries: true,
              hasDrink: true,
              hasSauce: true,
              hasExtraSide: true
            },
            // My Bucket
            {
              id: 'my-bucket',
              name: 'My Bucket',
              description: '1 piece of chicken + 2 pieces of strips + fries + drink',
              price: 59.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20132-combo.png'),
              type: 'my-bucket',
              chickenCount: 1,
              stripsCount: 2,
              hasFries: true,
              hasDrink: true,
              hasExtraSide: true
            },
            // Iftar Royal Meal
            {
              id: 'iftar-royal-meal',
              name: 'Iftar Royal Meal',
              description: 'Royal Sandwich + Rizo + Fries + Drink',
              price: 75.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20251-combo.png'),
              type: 'iftar-royal-meal',
              sandwichOptions: [
                { id: 'royal-original', name: 'Royal Sandwich - Original', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110019.png') },
                { id: 'royal-spicy', name: 'Royal Sandwich - Spicy', price: 0, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110020.png') }
              ],
              hasCondiments: true,
              hasFries: true,
              hasDrink: true,
              hasSauce: true
            },
            // Super Dinner
            {
              id: 'super-dinner',
              name: 'Super Dinner',
              description: '4 pieces of chicken + coleslaw salad + Fries + drink',
              price: 92.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/89-combo.png'),
              type: 'super-dinner',
              sizeOptions: [
                { id: 'regular', name: 'Regular', price: 92.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/89-combo.png' },
                { id: 'large', name: 'Large', price: 99.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/91-combo.png' }
              ],
              flavorOptions: [
                { id: 'original', name: 'Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310006.png' },
                { id: 'spicy', name: 'Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310007.png' },
                { id: 'mix', name: 'Mix', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310008.png' }
              ],
              chickenTotal: 4,
              hasFries: true,
              hasColeslaw: true,
              hasDrink: true,
              hasExtraSide: true
            },
            // Dinner Meal
            {
              id: 'dinner-meal',
              name: 'Dinner Meal',
              description: '3 pieces of chicken + fries + coleslaw salad + bun + drink',
              price: 78.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/46-combo.png'),  // use a real image
              type: 'dinner-meal',
              sizeOptions: [  // ‚úÖ fixed property name
                { id: 'regular', name: 'Regular', price: 78.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/46-combo.png' },
                { id: 'large', name: 'Large', price: 85.00, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/47-combo.png' }
              ],
              flavorOptions: [  // ‚úÖ ensure this array exists
                { id: 'original', name: 'Original', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310001.png' },
                { id: 'spicy', name: 'Spicy', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310002.png' },
                { id: 'mix', name: 'Mix', price: 0, img: 'https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310003.png' }
              ]
            }
          ]
        },
        // ===== NEW SIDES CATEGORY =====
        {
          id: 'sidesSection',
          name: 'Sides',
          icon: 'fas fa-fries',
          products: [
            // Simple sides
            { id: 'crispy-strips-original', name: 'Crispy Strips - 1 Piece Original', description: 'Crispy Strips - 1 Piece Original', price: 13.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816025.png'), type: 'simple' },
            { id: 'crispy-strips-spicy', name: 'Crispy Strips - 1 Piece Spicy', description: 'Crispy Strips - 1 Piece Spicy', price: 13.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816026.png'), type: 'simple' },
            { id: 'chicken-original', name: 'Chicken Pc - Original', description: 'Chicken Pc - Original', price: 21.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png'), type: 'simple' },
            { id: 'chicken-spicy', name: 'Chicken Pc - Spicy', description: 'Chicken Pc - Spicy', price: 21.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png'), type: 'simple' },
            { id: 'hot-shot', name: 'Hot Shot', description: 'Hot Shot', price: 49.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510007.png'), type: 'simple' },
            { id: 'bun', name: 'Bun', description: 'Bun', price: 1.50, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810002.png'), type: 'simple' },
            { id: 'ketchup', name: 'Ketchup Sauce', description: 'Ketchup Sauce', price: 1.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810006.png'), type: 'simple' },
            { id: 'pepper-chili', name: 'Pepper Chili Sauce', description: 'Pepper Chili Sauce', price: 4.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816031.png'), type: 'simple' },
            { id: 'bbq', name: 'BBQ Sauce', description: 'BBQ Sauce', price: 4.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810004.png'), type: 'simple' },
            { id: 'spicy-mayo', name: 'Spicy Mayo Sauce', description: 'Spicy Mayo Sauce', price: 4.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/814005.png'), type: 'simple' },

            // Configurable sides (with inline options)
            {
              id: 'rizo',
              name: 'Rizo',
              description: 'Rizo',
              price: 38.00,
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/155.png'),
              type: 'side-configurable',
              options: [
                { id: 'rizo-arabitta', name: 'Rizo - Arabitta Sauce', price: 0 },
                { id: 'rizo-chilli', name: 'Rizo - Chilli Sauce', price: 0 }
              ]
            },
            {
              id: 'coleslaw',
              name: 'Coleslaw',
              description: 'Coleslaw',
              price: 10.00, // base price for Regular
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/154.png'),
              type: 'side-configurable',
              options: [
                { id: 'coleslaw-small', name: 'Regular', price: 0 },    // price included in base
                { id: 'coleslaw-large', name: 'Large', price: 12.00 }    // extra +12
              ]
            },
            {
              id: 'fries',
              name: 'Fries',
              description: 'Fries',
              price: 14.00, // base price for Regular
              img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/149.png'),
              type: 'side-configurable',
              options: [
                { id: 'fries-regular', name: 'Regular', price: 0 },
                { id: 'fries-medium', name: 'Medium', price: 4.00 },
                { id: 'fries-large', name: 'Large', price: 8.00 },
                { id: 'fries-family', name: 'Family', price: 16.00 }
              ]
            }
          ]
        },
        // ===== NEW DRINKS CATEGORY =====
        {
          id: 'drinksSection',
          name: 'Drinks',
          icon: 'fas fa-glass-cheers',
          products: [
            { id: 'pepsi-can', name: 'Pepsi Can', description: '', price: 11.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600074.png'), type: 'simple' },
            { id: '7up-can-25cl', name: '7 Up Can 25CL', description: '', price: 11.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616046.png'), type: 'simple' },
            { id: 'mirinda-can', name: 'Mirinda Can', description: '', price: 11.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/616048.png'), type: 'simple' },
            { id: 'pepsi-33cl', name: 'Pepsi 33CL', description: '', price: 14.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600001.png'), type: 'simple' },
            { id: '7up-33cl', name: '7 Up Can 33CL', description: '', price: 14.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600029.png'), type: 'simple' },
            { id: 'mirinda-33cl', name: 'Mirinda 33CL', description: '', price: 14.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/600030.png'), type: 'simple' },
            { id: 'water', name: 'Water', description: 'Water', price: 5.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/618012.png'), type: 'simple' }
          ]
        }

      ];

      // Current customization state
      let currentCustomization = {
        productId: '',
        productName: '',
        basePrice: 0,
        extraCharge: 0,
        selections: {}
      };

      let currentProduct = null;

      // Popular items configuration
      const POPULAR_ITEMS = [
        { id: 'zinger-sandwich', name: 'Zinger Sandwich', price: 53.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110001.png'), type: 'zinger-simple', hasCustomize: true },
        { id: 'crispy-strips-original', name: 'Crispy Strips', price: 13.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816025.png'), type: 'simple', hasCustomize: false },
        { id: 'bucket-jma3a', name: 'Bucket Jma3a', price: 175.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20217-combo.png'), type: 'bucket-jma3a', hasCustomize: true },
        { id: 'royal-box', name: 'Royal Box', price: 63.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/369-combo.png'), type: 'royal-box', hasCustomize: true },
        { id: '8-pcs-epic-bucket', name: '8 Pcs Epic Bucket', price: 110.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/20178-combo.png'), type: 'epic-bucket', hasCustomize: true },
        { id: 'twister-spicy', name: 'Twister Spicy', price: 38.00, img: getImageUrl('https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png'), type: 'twister-simple', hasCustomize: true }
      ];

      // Popular slider state
      let currentSlideIndex = 0;
      const visibleItemsCount = 2; // Number of items visible at once on desktop

      // Render popular slider
      function renderPopularSlider() {
        const track = document.getElementById('popularSliderTrack');
        if (!track) return;

        let html = '';

        // Create 2 sets of items for infinite scroll effect
        const allItems = [...POPULAR_ITEMS, ...POPULAR_ITEMS];

        allItems.forEach((item, index) => {
          // Add data attribute for special badges (first and third items get special badges)
          const dataIndex = index % POPULAR_ITEMS.length;
          html += `
      <div class="popular-item" data-popular-index="${dataIndex}" data-product-id="${item.id}">
        <img src="${item.img}" alt="${item.name}" class="popular-item-image" onerror="this.src='https://morocco.kfc.me/assets/no-itm-97c87967.png'">
        <div class="popular-item-name">${item.name}</div>
        <div class="popular-item-price">MAD ${item.price.toFixed(2)}</div>
        <button class="popular-item-add" onclick="handlePopularAdd('${item.id}', ${item.hasCustomize})">
          <i class="fas fa-plus"></i>
        </button>
      </div>
    `;
        });

        track.innerHTML = html;
        updateSliderPosition();
      }

      // Handle add button click for popular items
      window.handlePopularAdd = function (productId, hasCustomize) {
        // Find the product
        let product = null;
        for (let cat of MENU_CATEGORIES) {
          const found = cat.products.find(p => p.id === productId);
          if (found) { product = found; break; }
        }

        if (!product) return;

        if (hasCustomize && product.type !== 'simple') {
          // Open customization modal
          openCustomization(productId);
        } else {
          // Add directly to cart
          addToCartDirect(product.name, product.price, product.img);
        }
      };

      // Update slider position
      function updateSliderPosition() {
        const track = document.getElementById('popularSliderTrack');
        if (!track) return;

        const itemWidth = track.children[0]?.offsetWidth || 110;
        const gap = 12; // match the gap in CSS
        const translateX = -(currentSlideIndex * (itemWidth + gap));

        track.style.transform = `translateX(${translateX}px)`;

        // Update button states
        const prevBtn = document.getElementById('popularPrevBtn');
        const nextBtn = document.getElementById('popularNextBtn');

        if (prevBtn && nextBtn) {
          // Enable/disable based on position (but we'll use infinite scroll)
          prevBtn.disabled = false;
          nextBtn.disabled = false;
        }
      }

      // Slide to previous
      function slidePrev() {
        currentSlideIndex--;

        const track = document.getElementById('popularSliderTrack');
        const totalItems = POPULAR_ITEMS.length;

        // If we've gone past the beginning, jump to the duplicate set
        if (currentSlideIndex < 0) {
          currentSlideIndex = totalItems - 1;
          // Instantly jump without animation
          track.style.transition = 'none';
          updateSliderPosition();
          // Force reflow
          track.offsetHeight;
          // Move one more for the visible slide
          currentSlideIndex--;
          track.style.transition = 'transform 0.4s ease-in-out';
        }

        updateSliderPosition();
      }

      // Slide to next
      function slideNext() {
        currentSlideIndex++;

        const track = document.getElementById('popularSliderTrack');
        const totalItems = POPULAR_ITEMS.length;

        updateSliderPosition();

        // If we've gone past the original set, jump back to the beginning
        if (currentSlideIndex >= totalItems) {
          // Wait for animation to complete, then jump
          setTimeout(() => {
            track.style.transition = 'none';
            currentSlideIndex = 0;
            updateSliderPosition();
            // Force reflow
            track.offsetHeight;
            track.style.transition = 'transform 0.4s ease-in-out';
          }, 400);
        }
      }

      // Add event listeners for slider controls
      function initPopularSlider() {
        const prevBtn = document.getElementById('popularPrevBtn');
        const nextBtn = document.getElementById('popularNextBtn');

        if (prevBtn) {
          prevBtn.addEventListener('click', slidePrev);
        }

        if (nextBtn) {
          nextBtn.addEventListener('click', slideNext);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
          updateSliderPosition();
        });
      }

      // Add touch support for mobile
      let touchStartX = 0;
      let touchEndX = 0;

      const sliderContainer = document.querySelector('.popular-slider-container');
      if (sliderContainer) {
        sliderContainer.addEventListener('touchstart', (e) => {
          touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        sliderContainer.addEventListener('touchend', (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        }, { passive: true });
      }

      function handleSwipe() {
        const swipeThreshold = 50;
        if (touchEndX < touchStartX - swipeThreshold) {
          // Swipe left - go to next
          slideNext();
        } else if (touchEndX > touchStartX + swipeThreshold) {
          // Swipe right - go to previous
          slidePrev();
        }
      }

      // ----- renderMenu() : generates the whole menu from config -----
      function renderMenu() {
        const container = document.getElementById('menuContainer');
        if (!container) return;
        let html = '';
        for (let cat of MENU_CATEGORIES) {
          html += `<div class="category-items-section animate-section" id="${cat.id}">`;
          html += `<h2 class="section-title">${cat.name}</h2>`;
          for (let prod of cat.products) {
            // Start product tile
            html += `
        <div class="category-item" data-product-id="${prod.id}">
          <img src="${prod.img}" alt="${prod.name}" class="item-image" onerror="this.src='https://morocco.kfc.me/assets/no-itm-97c87967.png'">
          <div class="item-info">
            <div class="item-name">${prod.name}</div>
            <div class="item-description">${prod.description}</div>
      `;

            // If configurable side, show option buttons and dynamic price
            if (prod.type === 'side-configurable') {
              const firstOption = prod.options[0];
              html += `
            <div class="item-options" data-product-id="${prod.id}">
              ${prod.options.map((opt, idx) => `
                <button class="option-btn ${idx === 0 ? 'active' : ''}" data-option-id="${opt.id}" data-price-adjust="${opt.price}">
                  ${opt.name}
                </button>
              `).join('')}
            </div>
            <div class="item-footer">
              <div class="item-price">
                <span class="price-amount" id="price-${prod.id}">MAD ${(prod.price + prod.options[0].price).toFixed(2)}</span>
              </div>
              <div class="item-actions">
                <button class="add-btn" onclick="addSideToCart('${prod.id}')">+</button>
              </div>
            </div>
        `;
            } else {
              // Simple product or customizable product ‚Äì show price and add button
              html += `
            <div class="item-footer">
              <div class="item-price">
                <span class="price-amount">MAD ${prod.price.toFixed(2)}</span>
              </div>
              <div class="item-actions">`;

              // Add Customize button for any product that is NOT simple and NOT side-configurable
              if (prod.type !== 'simple' && prod.type !== 'side-configurable') {
                html += `<button class="customize-btn" onclick="openCustomization('${prod.id}')"><i class="fas fa-cog"></i> Customize</button>`;
              }

              // Always show the Add button
              html += `<button class="add-btn" onclick="addToCartDirect('${prod.name}', ${prod.price}, '${prod.img}')">+</button>`;

              html += `</div></div>`;
            }

            html += `</div></div>`; // close item-info and category-item
          }
          html += `</div>`; // close category-items-section
        }
        container.innerHTML = html;

        // After adding HTML, attach event listeners to option buttons (for side-configurable)
        document.querySelectorAll('.option-btn').forEach(btn => {
          btn.addEventListener('click', function (e) {
            e.stopPropagation();
            const parentOptions = this.closest('.item-options');
            const productId = parentOptions.dataset.productId;
            parentOptions.querySelectorAll('.option-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            const basePrice = MENU_CATEGORIES.flatMap(c => c.products).find(p => p.id === productId).price;
            const adjust = parseFloat(this.dataset.priceAdjust) || 0;
            const priceSpan = document.getElementById(`price-${productId}`);
            if (priceSpan) {
              priceSpan.textContent = `MAD ${(basePrice + adjust).toFixed(2)}`;
            }
          });
        });
      }

      // ----- Customization Functions -----
      window.openCustomization = function (productId) {
        // Find product
        let product = null;
        for (let cat of MENU_CATEGORIES) {
          const found = cat.products.find(p => p.id === productId);
          if (found) { product = found; break; }
        }
        if (!product) return;

        currentProduct = product;

        // Initialize customization based on product type
        currentCustomization = {
          productId: product.id,
          productName: product.name,
          basePrice: product.price,
          extraCharge: 0,
          selections: {}
        };

        // Set defaults based on product type
        if (product.type === 'epic-bucket') {
          const totalDips = product.dipsTotal || 3;
          const defaultPerDip = Math.floor(totalDips / 3); // 1 for 3 dips, 2 for 6 dips
          currentCustomization.selections = {
            stripsOriginal: Math.floor(product.stripsTotal / 2),
            stripsSpicy: Math.ceil(product.stripsTotal / 2),
            dipQuantities: {
              'dynamite': defaultPerDip,
              'spicy-bbq': defaultPerDip,
              'sweet-chilli': defaultPerDip
            },
            dips: {} // will be populated by adjustDipQuantity
          };
          // NO LOOP HERE - keeps the three different flavors
        } else if (product.type === 'loaded-bucket') {
          const totalDips = product.dipsTotal || 3;
          const defaultPerDip = Math.floor(totalDips / 3);
          currentCustomization.selections = {
            bucketOption: 'strips-only',
            stripsOriginal: Math.floor(product.stripsTotal / 2),
            stripsSpicy: Math.ceil(product.stripsTotal / 2),
            dipQuantities: {
              'dynamite': defaultPerDip,
              'spicy-bbq': defaultPerDip,
              'sweet-chilli': defaultPerDip
            },
            dips: {},
            side: 'family-fries',
            secondSide: 'coleslaw-large',
            beverage: product.drinkSize === '1L' ? 'pepsi-1l' : 'pepsi-1.5l'
          };

          // Initialize dips with one of each type
          for (let i = 1; i <= product.dipsTotal; i++) {
            // Distribute dips evenly - this part might be causing the issue
            if (i <= defaultPerDip) {
              currentCustomization.selections.dips[`dip${i}`] = 'dynamite';
            } else if (i <= defaultPerDip * 2) {
              currentCustomization.selections.dips[`dip${i}`] = 'spicy-bbq';
            } else {
              currentCustomization.selections.dips[`dip${i}`] = 'sweet-chilli';
            }
          }
        } else if (product.type === 'mighty-bucket') {
          const totalDips = product.dipsTotal || 3;
          const defaultPerDip = Math.floor(totalDips / 3);
          currentCustomization.selections = {
            stripsOriginal: Math.floor(product.stripsTotal / 2),
            stripsSpicy: Math.ceil(product.stripsTotal / 2),
            chickenOriginal: Math.floor(product.chickenTotal / 2),
            chickenSpicy: Math.ceil(product.chickenTotal / 2),
            dipQuantities: {
              'dynamite': defaultPerDip,
              'spicy-bbq': defaultPerDip,
              'sweet-chilli': defaultPerDip
            },
            dips: {},
            side: 'family-fries',
            secondSide: 'coleslaw-large',
            beverage: product.drinkSize === '1L' ? 'pepsi-1l' : 'pepsi-1.5l'
          };
          for (let i = 1; i <= product.dipsTotal; i++) {
            currentCustomization.selections.dips[`dip${i}`] = 'dynamite';
          }
        } else if (product.type === 'bucket-jma3a') {
          currentCustomization.selections = {
            wingsOriginal: Math.floor(product.wingsTotal / 2),
            wingsSpicy: Math.ceil(product.wingsTotal / 2),
            stripsOriginal: Math.floor(product.stripsTotal / 2),
            stripsSpicy: Math.ceil(product.stripsTotal / 2),
            side: 'family-fries',
            sauce: 'mayonnaise',      // Default first sauce
            sauce2: 'chili-mayo',     // Default second sauce
            sauce3: 'pepper-mayo',    // Default third sauce
            addon: 'no-addon'
          };
        } else if (product.type.includes('simple') && product.hasCondiments) {
          currentCustomization.selections = {
            condimentEnabled: false,
            condimentOption: 'regular'
          };
        } else if (product.type.includes('combo') || product.type.includes('meal') || product.type.includes('box') || product.type.includes('duo') || product.type.includes('twist')) {
          currentCustomization.selections = {
            size: product.sizeOptions ? 'regular' : null,
            sandwich: product.sandwichOptions ? product.sandwichOptions[0].id : null,
            sandwich1: product.sandwich1Options ? product.sandwich1Options[0].id : null,
            sandwich2: product.sandwich2Options ? product.sandwich2Options[0].id : null,
            twister: product.twisterOptions ? product.twisterOptions[0].id : null,
            condimentEnabled: false,
            condimentEnabled1: false,
            condimentEnabled2: false,
            condimentOption: 'regular',
            condimentOption1: 'regular',
            condimentOption2: 'regular',
            strips: product.stripsOptions ? 'chicken-original' : null,
            chicken: product.chickenOptions ? 'chicken-original' : null,
            strip: product.stripOptions ? 'strip-original' : null,
            sauce: product.sauceOptions ? 'dynamite' : null,
            bun: product.bunOptions ? 'bun' : null,
            side: 'regular-fries',
            secondSide: 'coleslaw-small',
            beverage: 'pepsi-can',
            addon: 'no-addon'
          };
        } else if (product.type === 'strips-epic') {
          currentCustomization.selections = {
            stripsFlavor: '3-strips',
            stripsOriginal: Math.floor(product.stripsTotal / 2),
            stripsSpicy: Math.ceil(product.stripsTotal / 2),
            side: 'regular-fries',
            sauce: 'dynamite',
            beverage: product.hasDrink ? 'pepsi-can' : null,
            addon: 'no-addon'
          };
        } else if (product.type === 'chicken-epic') {
          currentCustomization.selections = {
            stripFlavor: 'original',
            chicken1: 'original',
            chicken2: 'original',
            side: 'coleslaw-small',
            beverage: product.hasDrink ? 'pepsi-can' : null,
            addon: 'no-addon'
          };
        } else if (product.type === 'twister-epic' || product.type === 'cruncher-epic') {
          currentCustomization.selections = {
            sandwich: product.type === 'twister-epic' ? 'twister-spicy' : 'cruncher',
            condimentEnabled: false,
            condimentOption: 'regular',
            stripFlavor: 'original',
            sauce: 'dynamite',
            beverage: product.hasDrink ? 'pepsi-can' : null,
            addon: 'no-addon'
          };
        } else if (product.type === 'harissa-meal') {
          currentCustomization.selections = {
            sandwich: product.sandwichOptions[0].id,
            side: 'regular-fries',
            beverage: 'pepsi-can',
            addon: 'no-addon'
          };
        } else if (product.type === 'harissa-box' || product.type === 'harissa-mighty-box') {
          currentCustomization.selections = {
            box: 'box-meal',
            sandwich: product.sandwichOptions[0].id,
            strips: 'chicken-original',
            side: 'regular-fries',
            secondSide: 'coleslaw-small',
            beverage: 'pepsi-can',
            addon: 'no-addon'
          };
        } else if (product.type === 'harissa-twister' || product.type === 'harissa-twister-combo' || product.type === 'harissa-twister-box') {
          currentCustomization.selections = {
            sandwich: 'twister',
            condimentEnabled: false,
            condimentOption: 'regular',
            side: 'regular-fries',
            beverage: 'pepsi-can',
            addon: 'no-addon'
          };
          if (product.type === 'harissa-twister-box') {
            currentCustomization.selections.strips = 'chicken-original';
            currentCustomization.selections.secondSide = 'coleslaw-small';
          }
        } else if (product.type === 'my-bucket-plus' || product.type === 'my-bucket') {
          const defaultFlavor = 'original';
          currentCustomization.selections = {
            chickenFlavor: defaultFlavor,
            strip1Flavor: defaultFlavor,
            strip2Flavor: defaultFlavor,
            side: 'regular-fries',
            sauce: product.type === 'my-bucket-plus' ? 'rizo-arabitta' : null, // only for plus
            beverage: 'pepsi-can',
            extraSide: 'no-addon' // no extra side by default
          };
        } else if (product.type === 'iftar-royal-meal') {
          currentCustomization.selections = {
            sandwich: 'royal-original',
            condimentEnabled: true,      // ‚úÖ now checked by default
            condimentOption: 'regular',
            side: 'regular-fries',
            sauce: 'rizo-arabitta',
            beverage: 'pepsi-regular'
          };
        } else if (product.type === 'super-dinner' || product.type === 'dinner-meal') {
          currentCustomization.selections = {
            size: 'regular',
            flavor: 'original',
            side: 'regular-fries',
            secondSide: 'coleslaw-small',
            beverage: 'pepsi-can',
            extraSide: 'no-addon'   // ‚úÖ default ‚ÄúNo Add On‚Äù
          };
        }

        document.getElementById('modalProductName').textContent = product.name;
        document.getElementById('modalProductDescription').textContent = product.description;

        // Build customization UI based on product type
        // Build customization UI based on product type
        let bodyHtml = '';

        if (product.type === 'epic-bucket') {
          bodyHtml = buildEpicBucketUI(product);
        } else if (product.type === 'loaded-bucket') {
          bodyHtml = buildLoadedBucketUI(product);
        } else if (product.type === 'mighty-bucket') {
          bodyHtml = buildMightyBucketUI(product);
        } else if (product.type === 'bucket-jma3a') {
          bodyHtml = buildBucketJma3aUI(product);
        } else if (product.type.includes('simple') && product.hasCondiments) {
          bodyHtml = buildSimpleWithCondimentsUI(product);

          // ---------- Specific meal types (must come before broad 'meal' check) ----------
        } else if (product.type === 'crispy-strips-meal') {
          bodyHtml = buildCrispyStripsUI(product);
        } else if (product.type === 'harissa-meal') {
          bodyHtml = buildHarissaMealUI(product);
        } else if (product.type === 'harissa-mighty-combo') {
          bodyHtml = buildHarissaMightyComboUI(product);
        } else if (product.type === 'iftar-royal-meal') {
          bodyHtml = buildIftarRoyalMealUI(product);
        } else if (product.type === 'dinner-meal') {
          bodyHtml = buildDinnerMealUI(product);
        } else if (product.type === 'super-dinner') {
          bodyHtml = buildSuperDinnerUI(product);

          // ---------- SPECIFIC HARISSA PRODUCTS (BOXES, TWISTERS) ----------
        } else if (product.type === 'harissa-box' || product.type === 'harissa-mighty-box') {
          bodyHtml = buildHarissaBoxUI(product);
        } else if (product.type === 'harissa-twister' || product.type === 'harissa-twister-combo' || product.type === 'harissa-twister-box') {
          bodyHtml = buildHarissaTwisterUI(product);

          // ---------- Broad condition for combos, meals, boxes, duos, twists ----------
        } else if (product.type.includes('combo') || product.type.includes('meal') || product.type.includes('box') || product.type.includes('duo') || product.type.includes('twist')) {
          if (product.type.includes('box') && !product.type.includes('combo')) {
            bodyHtml = buildBoxUI(product);
          } else if (product.type.includes('duo')) {
            bodyHtml = buildDuoUI(product);
          } else if (product.type.includes('twist')) {
            bodyHtml = buildTwistUI(product);
          } else {
            bodyHtml = buildComboUI(product);
          }

          // ---------- Other specific products ----------
        } else if (product.type === 'strips-epic') {
          bodyHtml = buildStripsEpicUI(product);
        } else if (product.type === 'chicken-epic') {
          bodyHtml = buildChickenEpicUI(product);
        } else if (product.type === 'twister-epic') {
          bodyHtml = buildTwisterEpicUI(product);
        } else if (product.type === 'cruncher-epic') {
          bodyHtml = buildCruncherEpicUI(product);
        } else if (product.type === 'my-bucket-plus') {
          bodyHtml = buildMyBucketPlusUI(product);
        } else if (product.type === 'my-bucket') {
          bodyHtml = buildMyBucketUI(product);
        }

        document.getElementById('customizationBody').innerHTML = bodyHtml;
        updateModalTotal();
        document.getElementById('customizationModal').style.display = 'block';
        document.body.style.overflow = 'hidden';
      };

      // Add this to your selection handler functions
      window.selectBucketOption = function (option, price) {
        currentCustomization.selections.bucketOption = option;
        currentCustomization.extraCharge = (option === 'with-bucket') ? price : 0;
        updateSelectionUI('[onclick*="selectBucketOption"]', option);
        updateModalTotal();
        if (option === 'with-bucket') {
          currentCustomization.extraCharge = price;
        } else {
          currentCustomization.extraCharge = 0;
        }
        updateSelectionUI('[onclick*="selectBucketOption"]', option);
        updateModalTotal();
      };

      window.adjustDipQuantity = function (dipType, delta, maxDips) {
        // Ensure dipQuantities exists with correct keys (hyphenated)
        if (!currentCustomization.selections.dipQuantities) {
          const totalDips = currentProduct?.dipsTotal || maxDips;
          const defaultPerDip = Math.floor(totalDips / 3); // 1 for 3 dips, 2 for 6 dips
          currentCustomization.selections.dipQuantities = {
            'dynamite': defaultPerDip,
            'spicy-bbq': defaultPerDip,
            'sweet-chilli': defaultPerDip
          };
        }

        const current = currentCustomization.selections.dipQuantities[dipType] || 0;
        const newValue = current + delta;

        // Calculate total dips including this change
        const totalDips = Object.values(currentCustomization.selections.dipQuantities).reduce((a, b) => a + b, 0) + delta;

        if (newValue >= 0 && totalDips <= maxDips) {
          currentCustomization.selections.dipQuantities[dipType] = newValue;

          // Update the display
          const countMap = {
            'dynamite': 'dynamiteCount',
            'spicy-bbq': 'spicyBBQCount',
            'sweet-chilli': 'sweetChilliCount'
          };

          const element = document.getElementById(countMap[dipType]);
          if (element) element.textContent = newValue;

          const totalElement = document.getElementById('totalDipsCounter');
          if (totalElement) {
            totalElement.textContent = `${totalDips}/${maxDips}`;
            totalElement.className = `counter ${totalDips === maxDips ? 'reached' : ''}`;
          }

          // Update dips object for cart summary - FIX THIS PART
          if (!currentCustomization.selections.dips) {
            currentCustomization.selections.dips = {};
          }

          // Clear existing dips
          currentCustomization.selections.dips = {};

          // Rebuild dips based on quantities in ORDER of selection
          let dipIndex = 1;
          for (let i = 0; i < currentCustomization.selections.dipQuantities['dynamite']; i++) {
            if (dipIndex <= maxDips) {
              currentCustomization.selections.dips[`dip${dipIndex}`] = 'dynamite';
              dipIndex++;
            }
          }
          for (let i = 0; i < currentCustomization.selections.dipQuantities['spicy-bbq']; i++) {
            if (dipIndex <= maxDips) {
              currentCustomization.selections.dips[`dip${dipIndex}`] = 'spicy-bbq';
              dipIndex++;
            }
          }
          for (let i = 0; i < currentCustomization.selections.dipQuantities['sweet-chilli']; i++) {
            if (dipIndex <= maxDips) {
              currentCustomization.selections.dips[`dip${dipIndex}`] = 'sweet-chilli';
              dipIndex++;
            }
          }

          updateModalTotal();
        }
      };

      // New UI Builder Functions for Buckets
      function buildEpicBucketUI(product) {
        const stripsTotal = product.stripsTotal || 8;
        const dipsTotal = product.dipsTotal || 3;
        const current = currentCustomization.selections;

        let html = `
      <!-- Strips Bucket (radio, selected) -->
      <div class="customization-section">
        <h4 class="section-title-modal">${stripsTotal} Pcs Strips</h4>
        <div class="option-item selected">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310060.png" alt="${stripsTotal} Pc Strips" class="option-image">
          <div class="option-info">
            <div class="option-name">${stripsTotal} Pc Strips</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>

      <!-- Strips quantity controls -->
      <div class="customization-section">
        <h4 class="section-title-modal">
          ${stripsTotal} Pcs Strips
          <span class="strips-counter" id="stripsCounter">${current.stripsOriginal + current.stripsSpicy}/${stripsTotal}</span>
        </h4>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" alt="Crispy Strips - Original" class="option-image">
          <div class="option-info">
            <div class="option-name">Crispy Strips - Original</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustStripsQuantity('original', -1, ${stripsTotal})">-</button>
            <span class="quantity-value" id="originalCount">${current.stripsOriginal}</span>
            <button class="quantity-btn" onclick="adjustStripsQuantity('original', 1, ${stripsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" alt="Crispy Strips - Spicy" class="option-image">
          <div class="option-info">
            <div class="option-name">Crispy Strips - Spicy</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', -1, ${stripsTotal})">-</button>
            <span class="quantity-value" id="spicyCount">${current.stripsSpicy}</span>
            <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', 1, ${stripsTotal})">+</button>
          </div>
        </div>
      </div>

      <!-- Dips Add On pack radio (static, selected) -->
      <div class="customization-section">
        <h4 class="section-title-modal">${dipsTotal} Dips Add On</h4>
        <div class="option-item selected">
          <div class="option-info">
            <div class="option-name">${dipsTotal} Dips Add On</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>

      <!-- Individual dip selections with quantity controls -->
      <div class="customization-section">
        <h4 class="section-title-modal">${dipsTotal} Dips Add On</h4>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810028.png" alt="Dynamite Sauce" class="option-image">
          <div class="option-info">
            <div class="option-name">Dynamite Sauce</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustDipQuantity('dynamite', -1, ${dipsTotal})">-</button>
            <span class="quantity-value" id="dynamiteCount">${current.dipQuantities?.['dynamite'] ?? Math.floor(dipsTotal / 3)}</span>
            <button class="quantity-btn" onclick="adjustDipQuantity('dynamite', 1, ${dipsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810042.png" alt="Spicy BBQ Sauce" class="option-image">
          <div class="option-info">
            <div class="option-name">Spicy BBQ Sauce</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustDipQuantity('spicy-bbq', -1, ${dipsTotal})">-</button>
            <span class="quantity-value" id="spicyBBQCount">${current.dipQuantities?.['spicy-bbq'] ?? Math.floor(dipsTotal / 3)}</span>
            <button class="quantity-btn" onclick="adjustDipQuantity('spicy-bbq', 1, ${dipsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816003.png" alt="Sweet Chilli Sauce" class="option-image">
          <div class="option-info">
            <div class="option-name">Sweet Chilli Sauce</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustDipQuantity('sweet-chilli', -1, ${dipsTotal})">-</button>
            <span class="quantity-value" id="sweetChilliCount">${current.dipQuantities?.['sweet-chilli'] ?? Math.floor(dipsTotal / 3)}</span>
            <button class="quantity-btn" onclick="adjustDipQuantity('sweet-chilli', 1, ${dipsTotal})">+</button>
          </div>
        </div>
        
        <div style="margin-top: 8px;">
          <span class="counter" id="totalDipsCounter">${Object.values(current.dipQuantities || {}).reduce((a, b) => a + b, 0)}/${dipsTotal}</span>
        </div>
      </div>

      <!-- Add On (optional) -->
      <div class="customization-section">
        <h4 class="section-title-modal">Add On</h4>
        <div class="option-item selected" onclick="selectAddon('no-addon', 0)">
          <div class="option-info">
            <div class="option-name">No Add On</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        return html;
      }

      function buildMyBucketPlusUI(product) {
        const current = currentCustomization.selections;
        let html = `
      <!-- Chicken flavor -->
      <div class="customization-section">
        <h4 class="section-title-modal">Choose Your Favorite Flavor</h4>
        <div class="option-item ${current.chickenFlavor === 'original' ? 'selected' : ''}"
            onclick="selectChickenFlavor('original', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png"
              alt="Chicken Pc - Original" class="option-image">
          <div class="option-info">
            <div class="option-name">Chicken Pc - Original</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.chickenFlavor === 'original' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
        <div class="option-item ${current.chickenFlavor === 'spicy' ? 'selected' : ''}"
            onclick="selectChickenFlavor('spicy', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png"
              alt="Chicken Pc - Spicy" class="option-image">
          <div class="option-info">
            <div class="option-name">Chicken Pc - Spicy</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.chickenFlavor === 'spicy' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        // Two strips sections (identical)
        for (let i = 1; i <= 2; i++) {
          html += `
        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Strips Flavor</h4>
          <div class="option-item ${current[`strip${i}Flavor`] === 'original' ? 'selected' : ''}"
              onclick="selectStripFlavor(${i}, 'original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816025.png"
                alt="Crispy Strips - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - 1 Piece Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current[`strip${i}Flavor`] === 'original' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
          <div class="option-item ${current[`strip${i}Flavor`] === 'spicy' ? 'selected' : ''}"
              onclick="selectStripFlavor(${i}, 'spicy', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816026.png"
                alt="Crispy Strips - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - 1 Piece spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current[`strip${i}Flavor`] === 'spicy' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        </div>
      `;
        }

        // Side item (Fries)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Choose Your Side Item</h4>
        <div class="option-item selected">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png"
              alt="Regular Fries" class="option-image">
          <div class="option-info">
            <div class="option-name">Regular Fries</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        // Sauce (only for Plus)
        if (product.type === 'my-bucket-plus') {
          html += `
        <div class="customization-section">
          <h4 class="section-title-modal">Choose Your Sauce</h4>
          <div class="option-item ${current.sauce === 'rizo-arabitta' ? 'selected' : ''}"
              onclick="selectSauce('rizo-arabitta', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510009.png"
                alt="Rizo - Arabitta Sauce" class="option-image">
            <div class="option-info">
              <div class="option-name">Rizo - Arabitta Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current.sauce === 'rizo-arabitta' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
          <div class="option-item ${current.sauce === 'rizo-chilli' ? 'selected' : ''}"
              onclick="selectSauce('rizo-chilli', 0)">
            <img src="https://morocco.kfc.me/assets/no-itm-97c87967.png"
                alt="Rizo - Chilli Sauce" class="option-image">
            <div class="option-info">
              <div class="option-name">Rizo - Chilli Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current.sauce === 'rizo-chilli' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        </div>
      `;
        }

        // Beverage (cans only)
        const canDrinks = BEVERAGE_OPTIONS.filter(b => b.id.includes('can'));
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
        ${canDrinks.map(drink => `
          <div class="option-item ${current.beverage === drink.id ? 'selected' : ''}"
              onclick="selectBeverage('${drink.id}', 0)">
            <img src="${drink.img}" alt="${drink.name}" class="option-image" onerror="this.style.display='none'">
            <div class="option-info">
              <div class="option-name">${drink.name}</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current.beverage === drink.id ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        `).join('')}
      </div>
    `;

        // Extra side (No Add On / Fries +5)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.extraSide === 'no-addon' ? 'selected' : ''}"
            onclick="selectExtraSide('no-addon', 0)">
          <div class="option-info">
            <div class="option-name">No Add On</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.extraSide === 'no-addon' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
        <div class="option-item ${current.extraSide === 'fries' ? 'selected' : ''}"
            onclick="selectExtraSide('fries', 5)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/516050.png"
              alt="Fries" class="option-image">
          <div class="option-info">
            <div class="option-name">Fries</div>
            <div class="option-price">MAD 5.00</div>
          </div>
          ${current.extraSide === 'fries' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        return html;
      }

      // My Bucket is the same as Plus but without the sauce section
      function buildMyBucketUI(product) {
        return buildMyBucketPlusUI(product); // reuse, but sauce will be omitted because product.type check inside
      }

      function buildIftarRoyalMealUI(product) {
        const current = currentCustomization.selections;
        let html = '';

        // ----- Choose Your Sandwich (radio) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Choose Your Sandwich</h2>
        <div>
          <div class="option-item ${current.sandwich === 'royal-original' ? 'selected' : ''}" onclick="selectSandwich('royal-original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110019.png" alt="Royal Sandwich - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Royal Sandwich - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="sandwich-royal-original">
              <i class="${current.sandwich === 'royal-original' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div class="option-item ${current.sandwich === 'royal-spicy' ? 'selected' : ''}" onclick="selectSandwich('royal-spicy', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110020.png" alt="Royal Sandwich - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Royal Sandwich - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="sandwich-royal-spicy">
              <i class="${current.sandwich === 'royal-spicy' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </div>
      </div>
    `;

        // ----- Choose Your Condiments (checkbox + sub‚Äëoptions) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Choose Your Condiments</h2>
        <div>
          <div class="option-item" onclick="toggleCondiment()">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
            <div class="option-info">
              <div class="option-name">American Cheese</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="checkbox-icon" id="condimentCheck">
              <i class="${current.condimentEnabled ? 'fas fa-check-square' : 'far fa-square'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div id="condimentSubOptions" style="display: ${current.condimentEnabled ? 'block' : 'none'};">
            <div class="option-item sub-item ${current.condimentOption === 'regular' ? 'selected' : ''}" onclick="selectCondimentOption('regular', 0)">
              <div class="option-info">
                <div class="option-name">Regular</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioRegular">
                <i class="${current.condimentOption === 'regular' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div class="option-item sub-item ${current.condimentOption === 'extra' ? 'selected' : ''}" onclick="selectCondimentOption('extra', 2)">
              <div class="option-info">
                <div class="option-name">Extra (MAD 2.00)</div>
                <div class="option-price">MAD 2.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioExtra">
                <i class="${current.condimentOption === 'extra' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    `;

        // ----- Choose Your Side Item (Regular Fries) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Choose Your Side Item</h2>
        <div>
          <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
            <div class="option-info">
              <div class="option-name">Regular Fries</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="side-regular-fries">
              <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </div>
      </div>
    `;

        // ----- Select Your Favorite Beverage (filtered to match KFC Iftar Royal Meal) -----
        const iftarBeverages = BEVERAGE_OPTIONS.filter(drink =>
          ['pepsi-regular', 'diet-pepsi-regular', '7up-regular', 'mirinda-regular', 'water', 'mojito'].includes(drink.id)
        );
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Select Your Favorite Beverage</h2>
        <div>
    `;
        iftarBeverages.forEach(drink => {
          const isSelected = (current.beverage === drink.id);
          html += `
        <div class="option-item ${isSelected ? 'selected' : ''}" onclick="selectBeverage('${drink.id}', ${drink.price})">
          <img src="${drink.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${drink.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${drink.name}</div>
            <div class="option-price">MAD ${drink.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon" id="beverage-${drink.id}">
            <i class="${isSelected ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `;
        });
        html += `</div></div>`;

        // ----- Choose Your Sauce (Rizo) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Choose Your Sauce</h2>
        <div>
          <div class="option-item ${current.sauce === 'rizo-arabitta' ? 'selected' : ''}" onclick="selectSauce('rizo-arabitta', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510009.png" alt="Rizo - Arabitta Sauce" class="option-image">
            <div class="option-info">
              <div class="option-name">Rizo - Arabitta Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="sauce-rizo-arabitta">
              <i class="${current.sauce === 'rizo-arabitta' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div class="option-item ${current.sauce === 'rizo-chilli' ? 'selected' : ''}" onclick="selectSauce('rizo-chilli', 0)">
            <img src="https://morocco.kfc.me/assets/no-itm-97c87967.png" alt="Rizo - Chilli Sauce" class="option-image" onerror="this.style.display='none'">
            <div class="option-info">
              <div class="option-name">Rizo - Chilli Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="sauce-rizo-chilli">
              <i class="${current.sauce === 'rizo-chilli' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </div>
      </div>
    `;

        return html;
      }

      function buildSuperDinnerUI(product) {
        const current = currentCustomization.selections;
        const sizeOptions = product.sizeOptions || [];
        const flavorOptions = product.flavorOptions || [];

        let html = `
      <!-- Size -->
      <div class="customization-section">
        <h4 class="section-title-modal">Choose your Size</h4>
        ${sizeOptions.map(opt => `
          <div class="option-item ${current.size === opt.id ? 'selected' : ''}"
              onclick="selectSize('${opt.id}', ${opt.price})">
            <img src="${opt.img}" alt="${opt.name}" class="option-image">
            <div class="option-info">
              <div class="option-name">${opt.name}</div>
              <div class="option-price">MAD ${opt.price}</div>
            </div>
            ${current.size === opt.id ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        `).join('')}
      </div>
    `;

        // Flavor (Original/Spicy/Mix)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Choose Your Favorite Flavor</h4>
        ${flavorOptions.map(opt => `
          <div class="option-item ${current.flavor === opt.id ? 'selected' : ''}"
              onclick="selectDinnerFlavor('${opt.id}', 0)">
            <img src="${opt.img}" alt="${opt.name}" class="option-image">
            <div class="option-info">
              <div class="option-name">${opt.name}</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current.flavor === opt.id ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        `).join('')}
      </div>
    `;

        // Side (Fries)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Choose Your Side Item</h4>
        <div class="option-item selected">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png"
              alt="Regular Fries" class="option-image">
          <div class="option-info">
            <div class="option-name">Regular Fries</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        // Second side (Coleslaw)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.secondSide === 'coleslaw-small' ? 'selected' : ''}"
            onclick="selectSecondSide('coleslaw-small', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png"
              alt="Coleslaw Small" class="option-image">
          <div class="option-info">
            <div class="option-name">Coleslaw Small</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.secondSide === 'coleslaw-small' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        // Beverage (cans)
        const canDrinks = BEVERAGE_OPTIONS.filter(b => b.id.includes('can'));
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
        ${canDrinks.map(drink => `
          <div class="option-item ${current.beverage === drink.id ? 'selected' : ''}"
              onclick="selectBeverage('${drink.id}', 0)">
            <img src="${drink.img}" alt="${drink.name}" class="option-image" onerror="this.style.display='none'">
            <div class="option-info">
              <div class="option-name">${drink.name}</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current.beverage === drink.id ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        `).join('')}
      </div>
    `;

        // Extra side (No Add On / Fries +5)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.extraSide === 'no-addon' ? 'selected' : ''}"
            onclick="selectExtraSide('no-addon', 0)">
          <div class="option-info">
            <div class="option-name">No Add On</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.extraSide === 'no-addon' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
        <div class="option-item ${current.extraSide === 'fries' ? 'selected' : ''}"
            onclick="selectExtraSide('fries', 5)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/516050.png"
              alt="Fries" class="option-image">
          <div class="option-info">
            <div class="option-name">Fries</div>
            <div class="option-price">MAD 5.00</div>
          </div>
          ${current.extraSide === 'fries' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        return html;
      }

      function buildDinnerMealUI(product) {
        const current = currentCustomization.selections;
        const sizeOptions = product.sizeOptions || [];
        const flavorOptions = product.flavorOptions || [];

        let html = '';

        // ----- Choose your Size -----
        html += `
      <div class="_root_1tjkr_1">
        <h2 class="section-title-modal">Choose your Size</h2>
        <ul class="MuiList-root _listContainer_1tjkr_18" style="list-style: none; padding: 0;">
    `;

        sizeOptions.forEach((opt, index) => {
          const isSelected = (current.size === opt.id);
          html += `
        <li class="MuiListItem-container" style="margin-bottom: 8px;">
          <div class="option-item ${isSelected ? 'selected' : ''}" onclick="selectSize('${opt.id}', ${opt.price})">
            <img src="${opt.img}" alt="${opt.name}" class="option-image" style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">
            <div class="option-info">
              <div class="option-name">${opt.name}</div>
              <div class="option-price">MAD ${opt.price}</div>
            </div>
            <div class="radio-icon" id="size-${opt.id}">
              <i class="${isSelected ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </li>
      `;
        });

        html += `</ul></div>`;

        // ----- Choose Your Favorite Flavor -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Choose Your Favorite Flavor</h2>
        <div>
    `;

        flavorOptions.forEach((opt, index) => {
          const isSelected = (current.flavor === opt.id);
          html += `
        <div class="option-item ${isSelected ? 'selected' : ''}" onclick="selectDinnerFlavor('${opt.id}', 0)">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="radio-icon" id="flavor-${opt.id}">
            <i class="${isSelected ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `;
        });

        html += `</div></div>`;

        // ----- Choose Your Side Item (Fries) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Choose Your Side Item</h2>
        <div>
          <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
            <div class="option-info">
              <div class="option-name">Regular Fries</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="side-regular-fries">
              <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </div>
      </div>
    `;

        // ----- Select Your Favorite Side Item (Coleslaw) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Select Your Favorite Side Item</h2>
        <div>
          <div class="option-item ${current.secondSide === 'coleslaw-small' ? 'selected' : ''}" onclick="selectSecondSide('coleslaw-small', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png" alt="Coleslaw Small" class="option-image">
            <div class="option-info">
              <div class="option-name">Coleslaw Small</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="secondSide-coleslaw-small">
              <i class="${current.secondSide === 'coleslaw-small' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </div>
      </div>
    `;

        // ----- Select Your Favorite Beverage (cans only) -----
        const canDrinks = BEVERAGE_OPTIONS.filter(b => b.id.includes('can'));
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Select Your Favorite Beverage</h2>
        <div>
    `;

        canDrinks.forEach(drink => {
          const isSelected = (current.beverage === drink.id);
          html += `
        <div class="option-item ${isSelected ? 'selected' : ''}" onclick="selectBeverage('${drink.id}', ${drink.price})">
          <img src="${drink.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${drink.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${drink.name}</div>
            <div class="option-price">MAD ${drink.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon" id="beverage-${drink.id}">
            <i class="${isSelected ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `;
        });

        html += `</div></div>`;

        // ----- Select Your Favorite Side Item (Extra: No Add On / Fries +5) -----
        html += `
      <div class="customization-section">
        <h2 class="section-title-modal">Select Your Favorite Side Item</h2>
        <div>
          <div class="option-item ${current.extraSide === 'no-addon' ? 'selected' : ''}" onclick="selectExtraSide('no-addon', 0)">
            <img src="/assets/no-itm-97c87967.png" alt="No Add On" class="option-image" onerror="this.style.display='none'">
            <div class="option-info">
              <div class="option-name">No Add On</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="radio-icon" id="extraSide-no-addon">
              <i class="${current.extraSide === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div class="option-item ${current.extraSide === 'fries' ? 'selected' : ''}" onclick="selectExtraSide('fries', 5)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/516050.png" alt="Fries" class="option-image">
            <div class="option-info">
              <div class="option-name">Fries</div>
              <div class="option-price">MAD 5.00</div>
            </div>
            <div class="radio-icon" id="extraSide-fries">
              <i class="${current.extraSide === 'fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
        </div>
      </div>
    `;

        return html;
      }



      function buildLoadedBucketUI(product) {
        const stripsTotal = product.stripsTotal || 8;
        const dipsTotal = product.dipsTotal || 3;
        const drinkSize = product.drinkSize || '1L';
        const current = currentCustomization.selections;

        // Show bucket upgrade for 8 or 12 pieces (as per KFC)
        const showBucketUpgrade = stripsTotal === 8 || stripsTotal === 12;

        // Filter beverages based on drink size (1L or 1.5L)
        const beverageOptions = BEVERAGE_OPTIONS.filter(b =>
          b.id.includes(drinkSize === '1L' ? '1l' : '1.5l')
        );

        let html = '';

        // Strips bucket radio(s)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">${stripsTotal} Pcs Strips</h4>
        <div class="option-item ${current.bucketOption === 'strips-only' ? 'selected' : ''}" 
            onclick="selectBucketOption('strips-only', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310060.png" 
              alt="${stripsTotal} Pc Strips" class="option-image">
          <div class="option-info">
            <div class="option-name">${stripsTotal} Pc Strips</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.bucketOption === 'strips-only' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
    `;

        if (showBucketUpgrade) {
          html += `
        <div class="option-item ${current.bucketOption === 'with-bucket' ? 'selected' : ''}" 
            onclick="selectBucketOption('with-bucket', 30)">
          <img src="https://morocco.kfc.me/assets/no-itm-97c87967.png" 
              alt="${stripsTotal} Pcs Bucket" class="option-image">
          <div class="option-info">
            <div class="option-name">${stripsTotal} Pcs Bucket</div>
            <div class="option-price">MAD 30.00</div>
          </div>
          ${current.bucketOption === 'with-bucket' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      `;
        }

        html += `</div>`;

        // Strips quantity controls
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">
          ${stripsTotal} Pcs Strips
          <span class="strips-counter" id="stripsCounter">${current.stripsOriginal + current.stripsSpicy}/${stripsTotal}</span>
        </h4>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" 
              alt="Crispy Strips - Original" class="option-image">
          <div class="option-info">
            <div class="option-name">Crispy Strips - Original</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustStripsQuantity('original', -1, ${stripsTotal})">-</button>
            <span class="quantity-value" id="originalCount">${current.stripsOriginal}</span>
            <button class="quantity-btn" onclick="adjustStripsQuantity('original', 1, ${stripsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" 
              alt="Crispy Strips - Spicy" class="option-image">
          <div class="option-info">
            <div class="option-name">Crispy Strips - Spicy</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', -1, ${stripsTotal})">-</button>
            <span class="quantity-value" id="spicyCount">${current.stripsSpicy}</span>
            <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', 1, ${stripsTotal})">+</button>
          </div>
        </div>
      </div>
    `;

        // Dips pack radio (static)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">${dipsTotal} Dips Add On</h4>
        <div class="option-item selected">
          <div class="option-info">
            <div class="option-name">${dipsTotal} Dips Add On</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        // Individual dip selections with quantity controls
        // Individual dip selections with quantity controls
        const defaultDip = Math.floor(dipsTotal / 3); // 1 for 3 dips, 2 for 6 dips
        html += `
    <div class="customization-section">
      <h4 class="section-title-modal">${dipsTotal} Dips Add On</h4>
      
      <div class="option-item">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810028.png" 
             alt="Dynamite Sauce" class="option-image">
        <div class="option-info">
          <div class="option-name">Dynamite Sauce</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="quantity-controls">
          <button class="quantity-btn" onclick="adjustDipQuantity('dynamite', -1, ${dipsTotal})">-</button>
          <span class="quantity-value" id="dynamiteCount">${current.dipQuantities?.['dynamite'] ?? defaultDip}</span>
          <button class="quantity-btn" onclick="adjustDipQuantity('dynamite', 1, ${dipsTotal})">+</button>
        </div>
      </div>
      
      <div class="option-item">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810042.png" 
             alt="Spicy BBQ Sauce" class="option-image">
        <div class="option-info">
          <div class="option-name">Spicy BBQ Sauce</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="quantity-controls">
          <button class="quantity-btn" onclick="adjustDipQuantity('spicy-bbq', -1, ${dipsTotal})">-</button>
          <span class="quantity-value" id="spicyBBQCount">${current.dipQuantities?.['spicy-bbq'] ?? defaultDip}</span>
          <button class="quantity-btn" onclick="adjustDipQuantity('spicy-bbq', 1, ${dipsTotal})">+</button>
        </div>
      </div>
      
      <div class="option-item">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816003.png" 
             alt="Sweet Chilli Sauce" class="option-image">
        <div class="option-info">
          <div class="option-name">Sweet Chilli Sauce</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="quantity-controls">
          <button class="quantity-btn" onclick="adjustDipQuantity('sweet-chilli', -1, ${dipsTotal})">-</button>
          <span class="quantity-value" id="sweetChilliCount">${current.dipQuantities?.['sweet-chilli'] ?? defaultDip}</span>
          <button class="quantity-btn" onclick="adjustDipQuantity('sweet-chilli', 1, ${dipsTotal})">+</button>
        </div>
      </div>
      
      <div style="margin-top: 8px;">
        <span class="counter" id="totalDipsCounter">${Object.values(current.dipQuantities || {}).reduce((a, b) => a + b, 0)}/${dipsTotal}</span>
      </div>
    </div>
  `;

        // First side item: Family Fries (radio)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.side === 'family-fries' ? 'selected' : ''}" 
            onclick="selectSide('family-fries', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510005.png" 
              alt="Family Fries" class="option-image">
          <div class="option-info">
            <div class="option-name">Family Fries</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.side === 'family-fries' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        // Second side item: Coleslaw Large (radio)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.secondSide === 'coleslaw-large' ? 'selected' : ''}" 
            onclick="selectSecondSide('coleslaw-large', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510002.png" 
              alt="Coleslaw Large" class="option-image">
          <div class="option-info">
            <div class="option-name">Coleslaw Large</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.secondSide === 'coleslaw-large' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        // Beverage selection (radio)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
        ${beverageOptions.map((beverage, index) => `
          <div class="option-item ${current.beverage === beverage.id ? 'selected' : ''}" 
              onclick="selectBeverage('${beverage.id}', 0)">
            <img src="${beverage.img}" alt="${beverage.name}" class="option-image" onerror="this.style.display='none'">
            <div class="option-info">
              <div class="option-name">${beverage.name}</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            ${current.beverage === beverage.id ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
          </div>
        `).join('')}
      </div>
    `;

        return html;
      }

      function buildMightyBucketUI(product) {
        const stripsTotal = product.stripsTotal || 8;
        const chickenTotal = product.chickenTotal || 4;
        const dipsTotal = product.dipsTotal || 3;
        const drinkSize = product.drinkSize || '1L';
        const current = currentCustomization.selections;
        const defaultDip = Math.floor(dipsTotal / 3); // 1 for 3 dips, 2 for 6 dips

        // Filter beverages based on drink size (1L or 1.5L)
        const beverageOptions = BEVERAGE_OPTIONS.filter(b =>
          b.id.includes(drinkSize === '1L' ? '1l' : '1.5l')
        );

        let html = '';

        // Strips bucket radio (static, selected)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">${stripsTotal} Pcs Strips</h4>
        <div class="option-item selected">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/310060.png"
              alt="${stripsTotal} Pc Strips" class="option-image">
          <div class="option-info">
            <div class="option-name">${stripsTotal} Pc Strips</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        // Strips quantity controls
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">
          ${stripsTotal} Pcs Strips
          <span class="strips-counter" id="stripsCounter">${current.stripsOriginal + current.stripsSpicy}/${stripsTotal}</span>
        </h4>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png"
              alt="Crispy Strips - Original" class="option-image">
          <div class="option-info">
            <div class="option-name">Crispy Strips - Original</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustStripsQuantity('original', -1, ${stripsTotal})">-</button>
            <span class="quantity-value" id="originalCount">${current.stripsOriginal}</span>
            <button class="quantity-btn" onclick="adjustStripsQuantity('original', 1, ${stripsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png"
              alt="Crispy Strips - Spicy" class="option-image">
          <div class="option-info">
            <div class="option-name">Crispy Strips - Spicy</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', -1, ${stripsTotal})">-</button>
            <span class="quantity-value" id="spicyCount">${current.stripsSpicy}</span>
            <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', 1, ${stripsTotal})">+</button>
          </div>
        </div>
      </div>
    `;

        // Chicken pack radio (static, selected)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">${chickenTotal} PCs Chicken</h4>
        <div class="option-item selected">
          <img src="https://morocco.kfc.me/assets/no-itm-97c87967.png"
              alt="${chickenTotal} PCs Chicken" class="option-image">
          <div class="option-info">
            <div class="option-name">${chickenTotal} PCs Chicken</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        // Chicken quantity controls
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">
          ${chickenTotal} PCs Chicken
          <span class="strips-counter" id="chickenCounter">${current.chickenOriginal + current.chickenSpicy}/${chickenTotal}</span>
        </h4>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png"
              alt="Chicken Pc - Original" class="option-image">
          <div class="option-info">
            <div class="option-name">Chicken Pc - Original</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustChickenQuantity('original', -1, ${chickenTotal})">-</button>
            <span class="quantity-value" id="chickenOriginalCount">${current.chickenOriginal}</span>
            <button class="quantity-btn" onclick="adjustChickenQuantity('original', 1, ${chickenTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910002.png"
              alt="Chicken Pc - Spicy" class="option-image">
          <div class="option-info">
            <div class="option-name">Chicken Pc - Spicy</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustChickenQuantity('spicy', -1, ${chickenTotal})">-</button>
            <span class="quantity-value" id="chickenSpicyCount">${current.chickenSpicy}</span>
            <button class="quantity-btn" onclick="adjustChickenQuantity('spicy', 1, ${chickenTotal})">+</button>
          </div>
        </div>
      </div>
    `;

        // Dips pack radio (static, selected)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">${dipsTotal} Dips Add On</h4>
        <div class="option-item selected">
          <div class="option-info">
            <div class="option-name">${dipsTotal} Dips Add On</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <i class="fas fa-check" style="color: #8B0000;"></i>
        </div>
      </div>
    `;

        // Individual dip selections with quantity controls
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">${dipsTotal} Dips Add On</h4>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810028.png"
              alt="Dynamite Sauce" class="option-image">
          <div class="option-info">
            <div class="option-name">Dynamite Sauce</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustDipQuantity('dynamite', -1, ${dipsTotal})">-</button>
            <span class="quantity-value" id="dynamiteCount">${current.dipQuantities?.['dynamite'] ?? defaultDip}</span>
            <button class="quantity-btn" onclick="adjustDipQuantity('dynamite', 1, ${dipsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810042.png"
              alt="Spicy BBQ Sauce" class="option-image">
          <div class="option-info">
            <div class="option-name">Spicy BBQ Sauce</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustDipQuantity('spicy-bbq', -1, ${dipsTotal})">-</button>
            <span class="quantity-value" id="spicyBBQCount">${current.dipQuantities?.['spicy-bbq'] ?? defaultDip}</span>
            <button class="quantity-btn" onclick="adjustDipQuantity('spicy-bbq', 1, ${dipsTotal})">+</button>
          </div>
        </div>
        
        <div class="option-item">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/816003.png"
              alt="Sweet Chilli Sauce" class="option-image">
          <div class="option-info">
            <div class="option-name">Sweet Chilli Sauce</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="adjustDipQuantity('sweet-chilli', -1, ${dipsTotal})">-</button>
            <span class="quantity-value" id="sweetChilliCount">${current.dipQuantities?.['sweet-chilli'] ?? defaultDip}</span>
            <button class="quantity-btn" onclick="adjustDipQuantity('sweet-chilli', 1, ${dipsTotal})">+</button>
          </div>
        </div>
        
        <div style="margin-top: 8px;">
          <span class="counter" id="totalDipsCounter">${Object.values(current.dipQuantities || {}).reduce((a, b) => a + b, 0)}/${dipsTotal}</span>
        </div>
      </div>
    `;

        // First side item: Family Fries (radio)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.side === 'family-fries' ? 'selected' : ''}"
            onclick="selectSide('family-fries', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510005.png"
              alt="Family Fries" class="option-image">
          <div class="option-info">
            <div class="option-name">Family Fries</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.side === 'family-fries' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        // Second side item: Coleslaw Large (radio)
        html += `
      <div class="customization-section">
        <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
        <div class="option-item ${current.secondSide === 'coleslaw-large' ? 'selected' : ''}"
            onclick="selectSecondSide('coleslaw-large', 0)">
          <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510002.png"
              alt="Coleslaw Large" class="option-image">
          <div class="option-info">
            <div class="option-name">Coleslaw Large</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          ${current.secondSide === 'coleslaw-large' ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
        </div>
      </div>
    `;

        // Beverage selection (radio)
        html += `
  <div class="customization-section">
    <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
    ${beverageOptions.map(beverage => `
      <div class="option-item ${current.beverage === beverage.id ? 'selected' : ''}"
          onclick="selectBeverage('${beverage.id}', ${beverage.price})">
        <img src="${beverage.img}" alt="${beverage.name}" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">${beverage.name}</div>
          <div class="option-price">MAD ${beverage.price.toFixed(2)}</div>
        </div>
        <div class="radio-icon">
          <i class="${current.beverage === beverage.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    `).join('')}
  </div>
`;

        return html;
      }

      function buildBucketJma3aUI(product) {
        const wingsTotal = product.wingsTotal;
        const stripsTotal = product.stripsTotal;
        const dipsTotal = product.dipsTotal;
        const current = currentCustomization.selections;

        let html = `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose 10 PC Hot Wings</h4>
      <div class="option-item selected">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/410179.png" alt="10 pc Hot wings" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">10 pc Hot wings</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Choose 10 PC Strips</h4>
      
      <div class="option-item">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810025.png" alt="Strips Pc - Original" class="option-image">
        <div class="option-info">
          <div class="option-name">Strips Pc - Original</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="quantity-controls">
          <button class="quantity-btn" onclick="adjustStripsQuantity('original', -1, ${stripsTotal})">-</button>
          <span class="quantity-value" id="originalCount">${current.stripsOriginal}</span>
          <button class="quantity-btn" onclick="adjustStripsQuantity('original', 1, ${stripsTotal})">+</button>
        </div>
      </div>
      
      <div class="option-item">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810026.png" alt="Strips Pc - Spicy" class="option-image">
        <div class="option-info">
          <div class="option-name">Strips Pc - Spicy</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="quantity-controls">
          <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', -1, ${stripsTotal})">-</button>
          <span class="quantity-value" id="spicyCount">${current.stripsSpicy}</span>
          <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', 1, ${stripsTotal})">+</button>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
      <div class="option-item selected" onclick="selectSide('family-fries', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510005.png" alt="Family Fries" class="option-image">
        <div class="option-info">
          <div class="option-name">Family Fries</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.side === 'family-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Sauce</h4>
      <div class="option-item ${current.sauce === 'mayonnaise' ? 'selected' : ''}" onclick="selectSauce('mayonnaise', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810003.png" alt="Mayonnaise Packet" class="option-image">
        <div class="option-info">
          <div class="option-name">Mayonnaise Packet</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.sauce === 'mayonnaise' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Sauce</h4>
      <div class="option-item ${current.sauce2 === 'chili-mayo' ? 'selected' : ''}" onclick="selectSauce2('chili-mayo', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810038.png" alt="Small Chili Mayo Sauce" class="option-image">
        <div class="option-info">
          <div class="option-name">Small Chili Mayo Sauce</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.sauce2 === 'chili-mayo' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Sauce</h4>
      <div class="option-item ${current.sauce3 === 'pepper-mayo' ? 'selected' : ''}" onclick="selectSauce3('pepper-mayo', 0)">
        <div class="option-info">
          <div class="option-name">Pepper Mayo Sauce</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.sauce3 === 'pepper-mayo' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Add On</h4>
      <div class="option-item ${current.addon === 'no-addon' ? 'selected' : ''}" onclick="selectAddon('no-addon', 0)">
        <div class="option-info">
          <div class="option-name">No Add On</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.addon === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>
  `;

        return html;
      }
      function buildSimpleWithCondimentsUI(product) {
        let html = `
        <div class="customization-section">
          <h4 class="section-title-modal">Choose Your Condiments</h4>
          <div class="option-item" onclick="toggleCondiment()">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
            <div class="option-info">
              <div class="option-name">American Cheese</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="checkbox-icon" id="condimentCheck">
              <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div id="condimentSubOptions" style="display: none;">
            <div class="option-item sub-item" onclick="selectCondimentOption('regular', 0)">
              <div class="option-info">
                <div class="option-name">Regular</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioRegular">
                <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div class="option-item sub-item" onclick="selectCondimentOption('extra', 2)">
              <div class="option-info">
                <div class="option-name">Extra</div>
                <div class="option-price">MAD 2.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioExtra">
                <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
          </div>
        </div>
      `;
        return html;
      }

      function buildComboUI(product) {
        let html = '';

        if (product.sizeOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose your Size</h4>
            ${product.sizeOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSize('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.sandwichOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Sandwich</h4>
            ${product.sandwichOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.condimentOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Condiments</h4>
            <div class="option-item" onclick="toggleCondiment()">
              <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
              <div class="option-info">
                <div class="option-name">American Cheese</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="checkbox-icon" id="condimentCheck">
                <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div id="condimentSubOptions" style="display: none;">
              <div class="option-item sub-item" onclick="selectCondimentOption('regular', 0)">
                <div class="option-info">
                  <div class="option-name">Regular</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioRegular">
                  <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
              <div class="option-item sub-item" onclick="selectCondimentOption('extra', 2)">
                <div class="option-info">
                  <div class="option-name">Extra</div>
                  <div class="option-price">MAD 2.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioExtra">
                  <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
            </div>
          </div>
        `;
        }

        if (product.sideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Side Item</h4>
            ${product.sideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.beverageOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
            ${product.beverageOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.addonOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Add On</h4>
            ${product.addonOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectAddon('${opt.id}', ${opt.price})">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        return html;
      }

      function buildBoxUI(product) {
        let html = '';

        if (product.sizeOptions) {
          html += `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose your Size</h4>
      ${product.sizeOptions.map((opt, index) => `
        <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSize('${opt.id}', ${opt.price})">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price}</div>
          </div>
          <div class="radio-icon" id="size-${opt.id}">
            <i class="${index === 0 ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>
  `;
        }

        if (product.boxOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Box</h4>
            ${product.boxOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBox('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.sandwichOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Sandwich</h4>
            ${product.sandwichOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.condimentOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Condiments</h4>
            <div class="option-item" onclick="toggleCondiment()">
              <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
              <div class="option-info">
                <div class="option-name">American Cheese</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="checkbox-icon" id="condimentCheck">
                <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div id="condimentSubOptions" style="display: none;">
              <div class="option-item sub-item" onclick="selectCondimentOption('regular', 0)">
                <div class="option-info">
                  <div class="option-name">Regular</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioRegular">
                  <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
              <div class="option-item sub-item" onclick="selectCondimentOption('extra', 2)">
                <div class="option-info">
                  <div class="option-name">Extra</div>
                  <div class="option-price">MAD 2.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioExtra">
                  <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
            </div>
          </div>
        `;
        }

        if (product.stripsOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Strips</h4>
            ${product.stripsOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectStrips('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.chickenOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Strips</h4>
            ${product.chickenOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectChicken('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.stripOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Strips</h4>
            ${product.stripOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectStrip('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.sideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Side Item</h4>
            ${product.sideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.secondSideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
            ${product.secondSideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSecondSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.beverageOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
            ${product.beverageOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.addonOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Add On</h4>
            ${product.addonOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectAddon('${opt.id}', ${opt.price})">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        return html;
      }

      function buildTwistUI(product) {
        let html = '';

        if (product.sizeOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose your Size</h4>
            ${product.sizeOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSize('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.sandwichOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Sandwich</h4>
            ${product.sandwichOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.condimentOptions1) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Condiments</h4>
            <div class="option-item" onclick="toggleCondiment1()">
              <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
              <div class="option-info">
                <div class="option-name">American Cheese</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="checkbox-icon" id="condimentCheck1">
                <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div id="condimentSubOptions1" style="display: none;">
              <div class="option-item sub-item" onclick="selectCondimentOption1('regular', 0)">
                <div class="option-info">
                  <div class="option-name">Regular</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioRegular1">
                  <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
              <div class="option-item sub-item" onclick="selectCondimentOption1('extra', 2)">
                <div class="option-info">
                  <div class="option-name">Extra</div>
                  <div class="option-price">MAD 2.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioExtra1">
                  <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
            </div>
          </div>
        `;
        }

        if (product.twisterOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Sandwich</h4>
            ${product.twisterOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectTwister('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.condimentOptions2) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Condiments</h4>
            <div class="option-item" onclick="toggleCondiment2()">
              <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
              <div class="option-info">
                <div class="option-name">American Cheese</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="checkbox-icon" id="condimentCheck2">
                <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div id="condimentSubOptions2" style="display: none;">
              <div class="option-item sub-item" onclick="selectCondimentOption2('regular', 0)">
                <div class="option-info">
                  <div class="option-name">Regular</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioRegular2">
                  <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
              <div class="option-item sub-item" onclick="selectCondimentOption2('extra', 2)">
                <div class="option-info">
                  <div class="option-name">Extra</div>
                  <div class="option-price">MAD 2.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioExtra2">
                  <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
            </div>
          </div>
        `;
        }

        if (product.sideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Side Item</h4>
            ${product.sideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.beverageOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
            ${product.beverageOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.addonOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Add On</h4>
            ${product.addonOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectAddon('${opt.id}', ${opt.price})">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        return html;
      }

      function buildDuoUI(product) {
        let html = '';

        if (product.sizeOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose your Size</h4>
            ${product.sizeOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSize('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.sandwich1Options) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Sandwich</h4>
            ${product.sandwich1Options.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSandwich1('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.condimentOptions1) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Condiments</h4>
            <div class="option-item" onclick="toggleCondiment1()">
              <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
              <div class="option-info">
                <div class="option-name">American Cheese</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="checkbox-icon" id="condimentCheck1">
                <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div id="condimentSubOptions1" style="display: none;">
              <div class="option-item sub-item" onclick="selectCondimentOption1('regular', 0)">
                <div class="option-info">
                  <div class="option-name">Regular</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioRegular1">
                  <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
              <div class="option-item sub-item" onclick="selectCondimentOption1('extra', 2)">
                <div class="option-info">
                  <div class="option-name">Extra</div>
                  <div class="option-price">MAD 2.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioExtra1">
                  <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
            </div>
          </div>
        `;
        }

        if (product.sandwich2Options) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Sandwich</h4>
            ${product.sandwich2Options.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSandwich2('${opt.id}', 0)">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.condimentOptions2) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Condiments</h4>
            <div class="option-item" onclick="toggleCondiment2()">
              <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
              <div class="option-info">
                <div class="option-name">American Cheese</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="checkbox-icon" id="condimentCheck2">
                <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div id="condimentSubOptions2" style="display: none;">
              <div class="option-item sub-item" onclick="selectCondimentOption2('regular', 0)">
                <div class="option-info">
                  <div class="option-name">Regular</div>
                  <div class="option-price">MAD 0.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioRegular2">
                  <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
              <div class="option-item sub-item" onclick="selectCondimentOption2('extra', 2)">
                <div class="option-info">
                  <div class="option-name">Extra</div>
                  <div class="option-price">MAD 2.00</div>
                </div>
                <div class="radio-icon" id="condimentRadioExtra2">
                  <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
                </div>
              </div>
            </div>
          </div>
        `;
        }

        if (product.sideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Side Item</h4>
            ${product.sideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.beverageOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
            ${product.beverageOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.addonOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Add On</h4>
            ${product.addonOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectAddon('${opt.id}', ${opt.price})">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        return html;
      }

      function buildCrispyStripsUI(product) {
        const total = product.stripsTotal || 4;
        const current = currentCustomization.selections;

        let html = `
        <div class="customization-section">
          <h4 class="section-title-modal">
            ${total} PCS Strips
            <span class="strips-counter" id="stripsCounter">${current.stripsOriginal + current.stripsSpicy}/${total}</span>
          </h4>
          
          <div class="option-item">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" alt="Crispy Strips - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="quantity-controls">
              <button class="quantity-btn" onclick="adjustStripsQuantity('original', -1, ${total})">-</button>
              <span class="quantity-value" id="originalCount">${current.stripsOriginal}</span>
              <button class="quantity-btn" onclick="adjustStripsQuantity('original', 1, ${total})">+</button>
            </div>
          </div>
          
          <div class="option-item">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" alt="Crispy Strips - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="quantity-controls">
              <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', -1, ${total})">-</button>
              <span class="quantity-value" id="spicyCount">${current.stripsSpicy}</span>
              <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', 1, ${total})">+</button>
            </div>
          </div>
        </div>
      `;

        if (product.sauceOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Sauce</h4>
            ${product.sauceOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSauce('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.bunOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Bun</h4>
            ${product.bunOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBun('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.sideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Your Side Item</h4>
            ${product.sideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.secondSideOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
            ${product.secondSideOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectSecondSide('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.beverageOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
            ${product.beverageOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        if (product.addonOptions) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Add On</h4>
            ${product.addonOptions.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectAddon('${opt.id}', ${opt.price})">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        return html;
      }

      function buildStripsEpicUI(product) {
        const total = product.stripsTotal || 3;
        const current = currentCustomization.selections;

        let html = `
        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Strips Flavor</h4>
          <div class="option-item selected" onclick="selectStripsFlavor('3-strips')">
            <div class="option-info">
              <div class="option-name">3 Strips Pcs</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">
            3 PCS Strips
            <span class="strips-counter" id="stripsCounter">${current.stripsOriginal + current.stripsSpicy}/${total}</span>
          </h4>
          
          <div class="option-item">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" alt="Crispy Strips - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="quantity-controls">
              <button class="quantity-btn" onclick="adjustStripsQuantity('original', -1, ${total})">-</button>
              <span class="quantity-value" id="originalCount">${current.stripsOriginal}</span>
              <button class="quantity-btn" onclick="adjustStripsQuantity('original', 1, ${total})">+</button>
            </div>
          </div>
          
          <div class="option-item">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" alt="Crispy Strips - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="quantity-controls">
              <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', -1, ${total})">-</button>
              <span class="quantity-value" id="spicyCount">${current.stripsSpicy}</span>
              <button class="quantity-btn" onclick="adjustStripsQuantity('spicy', 1, ${total})">+</button>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choose Your Side Item</h4>
          <div class="option-item selected" onclick="selectSide('regular-fries', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
            <div class="option-info">
              <div class="option-name">Regular Fries</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Select Your Sauce</h4>
          <div class="option-item selected" onclick="selectSauce('dynamite', 0)">
            <div class="option-info">
              <div class="option-name">Dynamite Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        if (product.hasDrink) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Drinks</h4>
            ${BEVERAGE_OPTIONS.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        html += `
        <div class="customization-section">
          <h4 class="section-title-modal">Add On</h4>
          <div class="option-item selected" onclick="selectAddon('no-addon', 0)">
            <div class="option-info">
              <div class="option-name">No Add On</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        return html;
      }

      function buildChickenEpicUI(product) {
        const current = currentCustomization.selections;

        let html = `
        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Strips Flavor</h4>
          <div class="option-item selected" onclick="selectStripFlavor('original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" alt="Crispy Strips - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
          <div class="option-item" onclick="selectStripFlavor('spicy', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" alt="Crispy Strips - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Chicken Flavor</h4>
          <div class="option-item selected" onclick="selectChickenPiece('chicken1', 'original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png" alt="Chicken Pc - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Chicken Pc - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Chicken Flavor</h4>
          <div class="option-item selected" onclick="selectChickenPiece('chicken2', 'original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/910001.png" alt="Chicken Pc - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Chicken Pc - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
          <div class="option-item selected" onclick="selectSide('coleslaw-small', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png" alt="Coleslaw Small" class="option-image">
            <div class="option-info">
              <div class="option-name">Coleslaw Small</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        if (product.hasDrink) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Drinks</h4>
            ${BEVERAGE_OPTIONS.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        html += `
        <div class="customization-section">
          <h4 class="section-title-modal">Add On</h4>
          <div class="option-item selected" onclick="selectAddon('no-addon', 0)">
            <div class="option-info">
              <div class="option-name">No Add On</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        return html;
      }

      function buildTwisterEpicUI(product) {
        const current = currentCustomization.selections;

        let html = `
        <div class="customization-section">
          <h4 class="section-title-modal">Choose Sandwich</h4>
          <div class="option-item selected" onclick="selectTwisterSandwich('twister-spicy', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110002.png" alt="Twister Sandwich - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Twister Sandwich - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
          <div class="option-item" onclick="selectTwisterSandwich('twister-original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110003.png" alt="Twister Sandwich - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Twister Sandwich - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choose Your Condiments</h4>
          <div class="option-item" onclick="toggleCondiment()">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
            <div class="option-info">
              <div class="option-name">American Cheese</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="checkbox-icon" id="condimentCheck">
              <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div id="condimentSubOptions" style="display: none;">
            <div class="option-item sub-item" onclick="selectCondimentOption('regular', 0)">
              <div class="option-info">
                <div class="option-name">Regular</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioRegular">
                <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div class="option-item sub-item" onclick="selectCondimentOption('extra', 2)">
              <div class="option-info">
                <div class="option-name">Extra</div>
                <div class="option-price">MAD 2.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioExtra">
                <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Strips Flavor</h4>
          <div class="option-item selected" onclick="selectStripFlavor('original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" alt="Crispy Strips - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
          <div class="option-item" onclick="selectStripFlavor('spicy', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" alt="Crispy Strips - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Select Your Sauce</h4>
          <div class="option-item selected" onclick="selectSauce('dynamite', 0)">
            <div class="option-info">
              <div class="option-name">Dynamite Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        if (product.hasDrink) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Drinks</h4>
            ${BEVERAGE_OPTIONS.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        html += `
        <div class="customization-section">
          <h4 class="section-title-modal">Add On</h4>
          <div class="option-item selected" onclick="selectAddon('no-addon', 0)">
            <div class="option-info">
              <div class="option-name">No Add On</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        return html;
      }

      function buildCruncherEpicUI(product) {
        const current = currentCustomization.selections;

        let html = `
        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Dynamite Sandwich</h4>
          <div class="option-item selected" onclick="selectCruncherSandwich('cruncher', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110058.png" alt="Sandwich Cruncher" class="option-image">
            <div class="option-info">
              <div class="option-name">Sandwich Cruncher</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choose Your Condiments</h4>
          <div class="option-item" onclick="toggleCondiment()">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
            <div class="option-info">
              <div class="option-name">American Cheese</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <div class="checkbox-icon" id="condimentCheck">
              <i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>
            </div>
          </div>
          <div id="condimentSubOptions" style="display: none;">
            <div class="option-item sub-item" onclick="selectCondimentOption('regular', 0)">
              <div class="option-info">
                <div class="option-name">Regular</div>
                <div class="option-price">MAD 0.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioRegular">
                <i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
            <div class="option-item sub-item" onclick="selectCondimentOption('extra', 2)">
              <div class="option-info">
                <div class="option-name">Extra</div>
                <div class="option-price">MAD 2.00</div>
              </div>
              <div class="radio-icon" id="condimentRadioExtra">
                <i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Choice Of Strips Flavor</h4>
          <div class="option-item selected" onclick="selectStripFlavor('original', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511001.png" alt="Crispy Strips - Original" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Original</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
          <div class="option-item" onclick="selectStripFlavor('spicy', 0)">
            <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/511002.png" alt="Crispy Strips - Spicy" class="option-image">
            <div class="option-info">
              <div class="option-name">Crispy Strips - Spicy</div>
              <div class="option-price">MAD 0.00</div>
            </div>
          </div>
        </div>

        <div class="customization-section">
          <h4 class="section-title-modal">Select Your Sauce</h4>
          <div class="option-item selected" onclick="selectSauce('dynamite', 0)">
            <div class="option-info">
              <div class="option-name">Dynamite Sauce</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        if (product.hasDrink) {
          html += `
          <div class="customization-section">
            <h4 class="section-title-modal">Choose Drinks</h4>
            ${BEVERAGE_OPTIONS.map((opt, index) => `
              <div class="option-item ${index === 0 ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
                <img src="${opt.img}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
                <div class="option-info">
                  <div class="option-name">${opt.name}</div>
                  <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
                </div>
                ${index === 0 ? '<i class="fas fa-check" style="color: #8B0000;"></i>' : ''}
              </div>
            `).join('')}
          </div>
        `;
        }

        html += `
        <div class="customization-section">
          <h4 class="section-title-modal">Add On</h4>
          <div class="option-item selected" onclick="selectAddon('no-addon', 0)">
            <div class="option-info">
              <div class="option-name">No Add On</div>
              <div class="option-price">MAD 0.00</div>
            </div>
            <i class="fas fa-check" style="color: #8B0000;"></i>
          </div>
        </div>
      `;

        return html;
      }

      function buildHarissaMealUI(product) {
        const current = currentCustomization.selections;

        // Filter beverages to match KFC Harissa Royal Meal
        const harissaBeverages = BEVERAGE_OPTIONS.filter(drink =>
          ['pepsi-can', '7up-can', 'mirinda-can', 'pepsi-diet', 'water', 'mojito'].includes(drink.id)
        );

        let html = `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose Sandwich</h4>
      ${product.sandwichOptions.map((opt) => `
        <div class="option-item ${current.sandwich === opt.id ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="radio-icon">
            <i class="${current.sandwich === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select your favorite side item</h4>
      <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
        <div class="option-info">
          <div class="option-name">Regular Fries</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
      ${harissaBeverages.map((opt) => `
        <div class="option-item ${current.beverage === opt.id ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
          <img src="${opt.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon">
            <i class="${current.beverage === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Add On</h4>
      <div class="option-item ${current.addon === 'no-addon' ? 'selected' : ''}" onclick="selectAddon('no-addon', 0)">
        <img src="/assets/no-itm-97c87967.png" alt="No Add On" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">No Add On</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.addon === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>
  `;

        return html;
      }

      function buildHarissaBoxUI(product) {
        const current = currentCustomization.selections;

        // Filter beverages to match KFC Harissa Royal Box
        const harissaBeverages = BEVERAGE_OPTIONS.filter(drink =>
          ['pepsi-can', '7up-can', 'mirinda-can', 'pepsi-diet', 'water', 'mojito'].includes(drink.id)
        );

        let html = `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose Box</h4>
      <div class="option-item ${current.box === 'box-meal' ? 'selected' : ''}" onclick="selectBox('box-meal', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/911514.png" alt="Box Meal" class="option-image">
        <div class="option-info">
          <div class="option-name">Box Meal</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.box === 'box-meal' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Choose Sandwich</h4>
      ${product.sandwichOptions.map((opt) => `
        <div class="option-item ${current.sandwich === opt.id ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="radio-icon">
            <i class="${current.sandwich === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Choose Strips</h4>
      ${product.stripsOptions.map((opt) => `
        <div class="option-item ${current.strips === opt.id ? 'selected' : ''}" onclick="selectStrips('${opt.id}', ${opt.price})">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon">
            <i class="${current.strips === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select your favorite side item</h4>
      <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
        <div class="option-info">
          <div class="option-name">Regular Fries</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Side Item</h4>
      <div class="option-item ${current.secondSide === 'coleslaw-small' ? 'selected' : ''}" onclick="selectSecondSide('coleslaw-small', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510001.png" alt="Coleslaw Small" class="option-image">
        <div class="option-info">
          <div class="option-name">Coleslaw Small</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.secondSide === 'coleslaw-small' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
      ${harissaBeverages.map((opt) => `
        <div class="option-item ${current.beverage === opt.id ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
          <img src="${opt.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon">
            <i class="${current.beverage === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Add On</h4>
      <div class="option-item ${current.addon === 'no-addon' ? 'selected' : ''}" onclick="selectAddon('no-addon', 0)">
        <img src="/assets/no-itm-97c87967.png" alt="No Add On" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">No Add On</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.addon === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>
  `;

        return html;
      }

      function buildHarissaMightyComboUI(product) {
        const current = currentCustomization.selections;

        // Filter beverages to match KFC Harissa Mighty Combo
        const harissaBeverages = BEVERAGE_OPTIONS.filter(drink =>
          ['pepsi-can', '7up-can', 'mirinda-can', 'pepsi-diet', 'water', 'mojito'].includes(drink.id)
        );

        let html = `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose Sandwich</h4>
      ${product.sandwichOptions.map((opt) => `
        <div class="option-item ${current.sandwich === opt.id ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="radio-icon">
            <i class="${current.sandwich === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select your favorite side item</h4>
      <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
        <div class="option-info">
          <div class="option-name">Regular Fries</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
      ${harissaBeverages.map((opt) => `
        <div class="option-item ${current.beverage === opt.id ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
          <img src="${opt.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon">
            <i class="${current.beverage === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Add On</h4>
      <div class="option-item ${current.addon === 'no-addon' ? 'selected' : ''}" onclick="selectAddon('no-addon', 0)">
        <img src="/assets/no-itm-97c87967.png" alt="No Add On" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">No Add On</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.addon === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>
  `;

        return html;
      }



      function buildHarissaTwisterUI(product) {
        const current = currentCustomization.selections;

        // Filter beverages to match KFC (6 options)
        const harissaBeverages = BEVERAGE_OPTIONS.filter(drink =>
          ['pepsi-can', '7up-can', 'mirinda-can', 'pepsi-diet', 'water', 'mojito'].includes(drink.id)
        );

        let html = `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose Sandwich</h4>
      <div class="option-item ${current.sandwich === 'twister' ? 'selected' : ''}" onclick="selectSandwich('twister', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/110088.png" alt="Harissa Twister" class="option-image">
        <div class="option-info">
          <div class="option-name">Harissa Twister</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.sandwich === 'twister' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Choose Your Condiments</h4>
      <div class="option-item" onclick="toggleCondiment()">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/810001.png" alt="American Cheese" class="option-image">
        <div class="option-info">
          <div class="option-name">American Cheese</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="checkbox-icon" id="condimentCheck">
          <i class="${current.condimentEnabled ? 'fas fa-check-square' : 'far fa-square'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
      <div id="condimentSubOptions" style="display: ${current.condimentEnabled ? 'block' : 'none'};">
        <div class="option-item sub-item ${current.condimentOption === 'regular' ? 'selected' : ''}" onclick="selectCondimentOption('regular', 0)">
          <div class="option-info">
            <div class="option-name">Regular</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="radio-icon">
            <i class="${current.condimentOption === 'regular' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
        <div class="option-item sub-item ${current.condimentOption === 'extra' ? 'selected' : ''}" onclick="selectCondimentOption('extra', 2)">
          <div class="option-info">
            <div class="option-name">Extra (MAD 2.00)</div>
            <div class="option-price">MAD 2.00</div>
          </div>
          <div class="radio-icon">
            <i class="${current.condimentOption === 'extra' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select your favorite side item</h4>
      <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
        <div class="option-info">
          <div class="option-name">Regular Fries</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Choose Drinks</h4>
      ${harissaBeverages.map((opt) => `
        <div class="option-item ${current.beverage === opt.id ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
          <img src="${opt.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon">
            <i class="${current.beverage === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Add On</h4>
      <div class="option-item ${current.addon === 'no-addon' ? 'selected' : ''}" onclick="selectAddon('no-addon', 0)">
        <img src="/assets/no-itm-97c87967.png" alt="No Add On" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">No Add On</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.addon === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>
  `;

        return html;
      }

      function buildHarissaMightyComboUI(product) {
        const current = currentCustomization.selections;

        // Filter beverages to match KFC Harissa Mighty Combo
        const harissaBeverages = BEVERAGE_OPTIONS.filter(drink =>
          ['pepsi-can', '7up-can', 'mirinda-can', 'pepsi-diet', 'water', 'mojito'].includes(drink.id)
        );

        let html = `
    <div class="customization-section">
      <h4 class="section-title-modal">Choose Sandwich</h4>
      ${product.sandwichOptions.map((opt) => `
        <div class="option-item ${current.sandwich === opt.id ? 'selected' : ''}" onclick="selectSandwich('${opt.id}', 0)">
          <img src="${opt.img}" alt="${opt.name}" class="option-image">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD 0.00</div>
          </div>
          <div class="radio-icon">
            <i class="${current.sandwich === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select your favorite side item</h4>
      <div class="option-item ${current.side === 'regular-fries' ? 'selected' : ''}" onclick="selectSide('regular-fries', 0)">
        <img src="https://kfcprodnecmsimage.blob.core.windows.net/cmsimages/kfc/mar/imagestemp/510004.png" alt="Regular Fries" class="option-image">
        <div class="option-info">
          <div class="option-name">Regular Fries</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.side === 'regular-fries' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Select Your Favorite Beverage</h4>
      ${harissaBeverages.map((opt) => `
        <div class="option-item ${current.beverage === opt.id ? 'selected' : ''}" onclick="selectBeverage('${opt.id}', ${opt.price})">
          <img src="${opt.img || 'https://morocco.kfc.me/assets/no-itm-97c87967.png'}" alt="${opt.name}" class="option-image" onerror="this.style.display='none'">
          <div class="option-info">
            <div class="option-name">${opt.name}</div>
            <div class="option-price">MAD ${opt.price.toFixed(2)}</div>
          </div>
          <div class="radio-icon">
            <i class="${current.beverage === opt.id ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
          </div>
        </div>
      `).join('')}
    </div>

    <div class="customization-section">
      <h4 class="section-title-modal">Add On</h4>
      <div class="option-item ${current.addon === 'no-addon' ? 'selected' : ''}" onclick="selectAddon('no-addon', 0)">
        <img src="/assets/no-itm-97c87967.png" alt="No Add On" class="option-image" onerror="this.style.display='none'">
        <div class="option-info">
          <div class="option-name">No Add On</div>
          <div class="option-price">MAD 0.00</div>
        </div>
        <div class="radio-icon">
          <i class="${current.addon === 'no-addon' ? 'fas fa-dot-circle' : 'far fa-circle'}" style="font-size: 24px; color: #8B0000;"></i>
        </div>
      </div>
    </div>
  `;

        return html;
      }

      // Selection handler functions
      window.selectSize = function (sizeId, price) {
        currentCustomization.selections.size = sizeId;
        currentCustomization.basePrice = price; // because size changes price

        // Update all size radio icons and their parent containers
        document.querySelectorAll('[onclick*="selectSize"]').forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const icon = parent.querySelector('.radio-icon i');
            if (icon) {
              const onclickAttr = el.getAttribute('onclick');
              if (onclickAttr && onclickAttr.includes(`'${sizeId}'`)) {
                icon.className = 'fas fa-dot-circle';
                parent.classList.add('selected'); // Add the red border background
              } else {
                icon.className = 'far fa-circle';
                parent.classList.remove('selected'); // Remove the red border background
              }
            }
          }
        });

        updateModalTotal();
      };



      window.selectBox = function (boxId, price) {
        currentCustomization.selections.box = boxId;
        updateSelectionUI('[onclick*="selectBox"]', boxId);
      };

      window.selectSandwich = function (sandwichId, price) {
        currentCustomization.selections.sandwich = sandwichId;
        updateSelectionUI('[onclick*="selectSandwich"]', sandwichId);
      };

      window.selectSandwich1 = function (sandwichId, price) {
        currentCustomization.selections.sandwich1 = sandwichId;
        updateSelectionUI('[onclick*="selectSandwich1"]', sandwichId);
      };

      window.selectSandwich2 = function (sandwichId, price) {
        currentCustomization.selections.sandwich2 = sandwichId;
        updateSelectionUI('[onclick*="selectSandwich2"]', sandwichId);
      };

      window.selectTwister = function (twisterId, price) {
        currentCustomization.selections.twister = twisterId;
        updateSelectionUI('[onclick*="selectTwister"]', twisterId);
      };

      window.selectStrips = function (stripsId, price) {
        currentCustomization.selections.strips = stripsId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectStrips"]', stripsId);
        updateModalTotal();
      };

      window.selectChicken = function (chickenId, price) {
        currentCustomization.selections.chicken = chickenId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectChicken"]', chickenId);
        updateModalTotal();
      };

      window.selectStrip = function (stripId, price) {
        currentCustomization.selections.strip = stripId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectStrip"]', stripId);
        updateModalTotal();
      };

      window.selectSide = function (sideId, price) {
        currentCustomization.selections.side = sideId;

        document.querySelectorAll('[onclick*="selectSide"]').forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const icon = parent.querySelector('.radio-icon i');
            if (icon) {
              const onclickAttr = el.getAttribute('onclick');
              if (onclickAttr && onclickAttr.includes(`'${sideId}'`)) {
                icon.className = 'fas fa-dot-circle';
                parent.classList.add('selected');
              } else {
                icon.className = 'far fa-circle';
                parent.classList.remove('selected');
              }
            }
          }
        });

        updateModalTotal();
      };

      window.selectSecondSide = function (sideId, price) {
        currentCustomization.selections.secondSide = sideId;

        document.querySelectorAll('[onclick*="selectSecondSide"]').forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const icon = parent.querySelector('.radio-icon i');
            if (icon) {
              const onclickAttr = el.getAttribute('onclick');
              if (onclickAttr && onclickAttr.includes(`'${sideId}'`)) {
                icon.className = 'fas fa-dot-circle';
                parent.classList.add('selected');
              } else {
                icon.className = 'far fa-circle';
                parent.classList.remove('selected');
              }
            }
          }
        });

        updateModalTotal();
      };

      window.selectSauce = function (sauceId, price) {
        currentCustomization.selections.sauce = sauceId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectSauce"]', sauceId);
        updateModalTotal();
      };

      window.selectSauce2 = function (sauceId, price) {
        currentCustomization.selections.sauce2 = sauceId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectSauce2"]', sauceId);
        updateModalTotal();
      };

      window.selectSauce3 = function (sauceId, price) {
        currentCustomization.selections.sauce3 = sauceId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectSauce3"]', sauceId);
        updateModalTotal();
      };

      window.selectBun = function (bunId, price) {
        currentCustomization.selections.bun = bunId;
        updateSelectionUI('[onclick*="selectBun"]', bunId);
      };

      window.selectDip = function (dipNumber, dipId, price) {
        currentCustomization.selections.dips[`dip${dipNumber}`] = dipId;
        updateSelectionUI(`[onclick*="selectDip(${dipNumber},"]`, dipId);
      };
      window.selectDipsPack = function (packId, price) {
        // This function exists only to match KFC's static radio; no action needed.
        console.log('Dips pack selected (static)');
      };

      window.selectChickenFlavor = function (flavor, price) {
        currentCustomization.selections.chickenFlavor = flavor;
        updateSelectionUI('[onclick*="selectChickenFlavor"]', flavor);
        updateModalTotal();
      };

      window.selectStripFlavor = function (stripNum, flavor, price) {
        currentCustomization.selections[`strip${stripNum}Flavor`] = flavor;
        updateSelectionUI(`[onclick*="selectStripFlavor(${stripNum},"]`, flavor);
        updateModalTotal();
      };

      window.selectExtraSide = function (sideId, price) {
        currentCustomization.selections.extraSide = sideId;
        currentCustomization.extraCharge = price;

        document.querySelectorAll('[onclick*="selectExtraSide"]').forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const icon = parent.querySelector('.radio-icon i');
            if (icon) {
              const onclickAttr = el.getAttribute('onclick');
              if (onclickAttr && onclickAttr.includes(`'${sideId}'`)) {
                icon.className = 'fas fa-dot-circle';
                parent.classList.add('selected');
              } else {
                icon.className = 'far fa-circle';
                parent.classList.remove('selected');
              }
            }
          }
        });

        updateModalTotal();
      };


      window.selectDinnerFlavor = function (flavorId, price) {
        currentCustomization.selections.flavor = flavorId;

        document.querySelectorAll('[onclick*="selectDinnerFlavor"]').forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const icon = parent.querySelector('.radio-icon i');
            if (icon) {
              const onclickAttr = el.getAttribute('onclick');
              if (onclickAttr && onclickAttr.includes(`'${flavorId}'`)) {
                icon.className = 'fas fa-dot-circle';
                parent.classList.add('selected');
              } else {
                icon.className = 'far fa-circle';
                parent.classList.remove('selected');
              }
            }
          }
        });

        updateModalTotal();
      };

      window.adjustStripsQuantity = function (type, delta, total) {
        const current = currentCustomization.selections;

        let newOriginal = current.stripsOriginal;
        let newSpicy = current.stripsSpicy;

        if (type === 'original') {
          newOriginal = Math.max(0, Math.min(total, current.stripsOriginal + delta));
          newSpicy = total - newOriginal;
        } else {
          newSpicy = Math.max(0, Math.min(total, current.stripsSpicy + delta));
          newOriginal = total - newSpicy;
        }

        if (newOriginal >= 0 && newSpicy >= 0 && newOriginal + newSpicy === total) {
          current.stripsOriginal = newOriginal;
          current.stripsSpicy = newSpicy;

          const originalCount = document.getElementById('originalCount');
          const spicyCount = document.getElementById('spicyCount');
          const stripsCounter = document.getElementById('stripsCounter');

          if (originalCount) originalCount.textContent = newOriginal;
          if (spicyCount) spicyCount.textContent = newSpicy;
          if (stripsCounter) {
            stripsCounter.textContent = `${newOriginal + newSpicy}/${total}`;
            stripsCounter.className = 'strips-counter reached';
          }
        }
      };

      window.adjustChickenQuantity = function (type, delta, total) {
        const current = currentCustomization.selections;

        let newOriginal = current.chickenOriginal;
        let newSpicy = current.chickenSpicy;

        if (type === 'original') {
          newOriginal = Math.max(0, Math.min(total, current.chickenOriginal + delta));
          newSpicy = total - newOriginal;
        } else {
          newSpicy = Math.max(0, Math.min(total, current.chickenSpicy + delta));
          newOriginal = total - newSpicy;
        }

        if (newOriginal >= 0 && newSpicy >= 0 && newOriginal + newSpicy === total) {
          current.chickenOriginal = newOriginal;
          current.chickenSpicy = newSpicy;

          const originalCount = document.getElementById('chickenOriginalCount');
          const spicyCount = document.getElementById('chickenSpicyCount');
          const chickenCounter = document.getElementById('chickenCounter');

          if (originalCount) originalCount.textContent = newOriginal;
          if (spicyCount) spicyCount.textContent = newSpicy;
          if (chickenCounter) {
            chickenCounter.textContent = `${newOriginal + newSpicy}/${total}`;
            chickenCounter.className = 'strips-counter reached';
          }
        }
      };

      window.adjustWingsQuantity = function (type, delta, total) {
        const current = currentCustomization.selections;

        let newOriginal = current.wingsOriginal || 0;
        let newSpicy = current.wingsSpicy || 0;

        if (type === 'original') {
          newOriginal = Math.max(0, Math.min(total, (current.wingsOriginal || 0) + delta));
          newSpicy = total - newOriginal;
        } else {
          newSpicy = Math.max(0, Math.min(total, (current.wingsSpicy || 0) + delta));
          newOriginal = total - newSpicy;
        }

        if (newOriginal >= 0 && newSpicy >= 0 && newOriginal + newSpicy === total) {
          current.wingsOriginal = newOriginal;
          current.wingsSpicy = newSpicy;

          const originalCount = document.getElementById('wingsOriginalCount');
          const wingsCounter = document.getElementById('wingsCounter');

          if (originalCount) originalCount.textContent = newOriginal;
          if (wingsCounter) {
            wingsCounter.textContent = `${newOriginal + newSpicy}/${total}`;
            wingsCounter.className = 'strips-counter reached';
          }
        }
      };

      window.toggleCondiment = function () {
        const isEnabled = !currentCustomization.selections.condimentEnabled;
        currentCustomization.selections.condimentEnabled = isEnabled;

        const checkbox = document.getElementById('condimentCheck');
        if (checkbox) {
          checkbox.innerHTML = isEnabled ?
            '<i class="fas fa-check-square" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>';
        }

        const subOptions = document.getElementById('condimentSubOptions');
        if (subOptions) {
          subOptions.style.display = isEnabled ? 'block' : 'none';
        }

        if (!isEnabled) {
          currentCustomization.extraCharge = 0;
          updateModalTotal();
        }
      };

      window.toggleCondiment1 = function () {
        const isEnabled = !currentCustomization.selections.condimentEnabled1;
        currentCustomization.selections.condimentEnabled1 = isEnabled;

        const checkbox = document.getElementById('condimentCheck1');
        if (checkbox) {
          checkbox.innerHTML = isEnabled ?
            '<i class="fas fa-check-square" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>';
        }

        const subOptions = document.getElementById('condimentSubOptions1');
        if (subOptions) {
          subOptions.style.display = isEnabled ? 'block' : 'none';
        }

        if (!isEnabled) {
          currentCustomization.extraCharge = 0;
          updateModalTotal();
        }
      };

      window.toggleCondiment2 = function () {
        const isEnabled = !currentCustomization.selections.condimentEnabled2;
        currentCustomization.selections.condimentEnabled2 = isEnabled;

        const checkbox = document.getElementById('condimentCheck2');
        if (checkbox) {
          checkbox.innerHTML = isEnabled ?
            '<i class="fas fa-check-square" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-square" style="font-size: 24px; color: #8B0000;"></i>';
        }

        const subOptions = document.getElementById('condimentSubOptions2');
        if (subOptions) {
          subOptions.style.display = isEnabled ? 'block' : 'none';
        }

        if (!isEnabled) {
          currentCustomization.extraCharge = 0;
          updateModalTotal();
        }
      };

      window.selectCondimentOption = function (option, price) {
        if (!currentCustomization.selections.condimentEnabled) return;

        currentCustomization.selections.condimentOption = option;
        currentCustomization.extraCharge = price;

        const radioRegular = document.getElementById('condimentRadioRegular');
        const radioExtra = document.getElementById('condimentRadioExtra');

        if (radioRegular) {
          radioRegular.innerHTML = option === 'regular' ?
            '<i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>';
        }

        if (radioExtra) {
          radioExtra.innerHTML = option === 'extra' ?
            '<i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>';
        }

        updateModalTotal();
      };

      window.selectCondimentOption1 = function (option, price) {
        if (!currentCustomization.selections.condimentEnabled1) return;

        currentCustomization.selections.condimentOption1 = option;
        currentCustomization.extraCharge = price;

        const radioRegular = document.getElementById('condimentRadioRegular1');
        const radioExtra = document.getElementById('condimentRadioExtra1');

        if (radioRegular) {
          radioRegular.innerHTML = option === 'regular' ?
            '<i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>';
        }

        if (radioExtra) {
          radioExtra.innerHTML = option === 'extra' ?
            '<i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>';
        }

        updateModalTotal();
      };

      window.selectCondimentOption2 = function (option, price) {
        if (!currentCustomization.selections.condimentEnabled2) return;

        currentCustomization.selections.condimentOption2 = option;
        currentCustomization.extraCharge = price;

        const radioRegular = document.getElementById('condimentRadioRegular2');
        const radioExtra = document.getElementById('condimentRadioExtra2');

        if (radioRegular) {
          radioRegular.innerHTML = option === 'regular' ?
            '<i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>';
        }

        if (radioExtra) {
          radioExtra.innerHTML = option === 'extra' ?
            '<i class="fas fa-dot-circle" style="font-size: 24px; color: #8B0000;"></i>' :
            '<i class="far fa-circle" style="font-size: 24px; color: #8B0000;"></i>';
        }

        updateModalTotal();
      };

      window.selectBeverage = function (beverageId, price) {
        currentCustomization.selections.beverage = beverageId;
        currentCustomization.extraCharge = price;

        document.querySelectorAll('[onclick*="selectBeverage"]').forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const icon = parent.querySelector('.radio-icon i');
            if (icon) {
              const onclickAttr = el.getAttribute('onclick');
              if (onclickAttr && onclickAttr.includes(`'${beverageId}'`)) {
                icon.className = 'fas fa-dot-circle';
                parent.classList.add('selected');
              } else {
                icon.className = 'far fa-circle';
                parent.classList.remove('selected');
              }
            }
          }
        });

        updateModalTotal();
      };

      window.selectAddon = function (addonId, price) {
        currentCustomization.selections.addon = addonId;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectAddon"]', addonId);
        updateModalTotal();
      };

      window.selectStripsFlavor = function (flavor) {
        currentCustomization.selections.stripsFlavor = flavor;
        updateSelectionUI('[onclick*="selectStripsFlavor"]', flavor);
      };

      window.selectStripFlavor = function (flavor, price) {
        currentCustomization.selections.stripFlavor = flavor;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectStripFlavor"]', flavor);
        updateModalTotal();
      };

      window.selectChickenPiece = function (piece, flavor, price) {
        currentCustomization.selections[piece] = flavor;
        currentCustomization.extraCharge = price;
        updateModalTotal();
      };

      window.selectTwisterSandwich = function (sandwich, price) {
        currentCustomization.selections.sandwich = sandwich;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectTwisterSandwich"]', sandwich);
        updateModalTotal();
      };

      window.selectCruncherSandwich = function (sandwich, price) {
        currentCustomization.selections.sandwich = sandwich;
        currentCustomization.extraCharge = price;
        updateSelectionUI('[onclick*="selectCruncherSandwich"]', sandwich);
        updateModalTotal();
      };

      function updateSelectionUI(selector, selectedId) {
        document.querySelectorAll(selector).forEach(el => {
          const parent = el.closest('.option-item');
          if (parent) {
            const onclickAttr = el.getAttribute('onclick');
            if (onclickAttr && onclickAttr.includes(`'${selectedId}'`)) {
              parent.classList.add('selected');
              // Update radio icon inside
              const radioIcon = parent.querySelector('.radio-icon i');
              if (radioIcon) {
                radioIcon.className = 'fas fa-dot-circle';
              }
            } else {
              parent.classList.remove('selected');
              // Update radio icon inside
              const radioIcon = parent.querySelector('.radio-icon i');
              if (radioIcon) {
                radioIcon.className = 'far fa-circle';
              }
            }
          }
        });
      }

      function updateModalTotal() {
        const total = (currentCustomization.basePrice || 0) + (currentCustomization.extraCharge || 0);
        document.getElementById('modalTotalPrice').textContent = total.toFixed(2);
      }

      window.closeCustomization = function () {
        document.getElementById('customizationModal').style.display = 'none';
        document.body.style.overflow = 'auto';
      };

      // ----- Cart Functions -----
      let cart = JSON.parse(localStorage.getItem(KFC_CONFIG.cartKey)) || [];

      function updateCartCount() {
        const total = cart.reduce((acc, i) => acc + (i.quantity || 1), 0);
        document.getElementById('cartItemCount').textContent = total;
      }

      function saveCart() {
        localStorage.setItem(KFC_CONFIG.cartKey, JSON.stringify(cart));
        updateCartCount();
      }

      window.addToCartDirect = function (name, price, img) {
        const item = {
          productKey: name + Date.now(),
          restaurantId: KFC_CONFIG.restaurantId,
          restaurantName: KFC_CONFIG.restaurantName,
          restaurantEmoji: KFC_CONFIG.emoji,
          name,
          price,
          img,
          quantity: 1,
          totalPrice: price,
          customizations: {}
        };
        const existing = cart.find(i => i.name === name && i.restaurantId === KFC_CONFIG.restaurantId && Object.keys(i.customizations).length === 0);
        if (existing) {
          existing.quantity++;
          existing.totalPrice = existing.price * existing.quantity;
        } else {
          cart.push(item);
        }
        saveCart();
        createStarsAnimation();
        if (navigator.vibrate) navigator.vibrate(50);
      };

      window.addSideToCart = function (productId) {
        // Find product
        let product = null;
        for (let cat of MENU_CATEGORIES) {
          const found = cat.products.find(p => p.id === productId);
          if (found) { product = found; break; }
        }
        if (!product) return;

        // Find selected option
        const optionGroup = document.querySelector(`.item-options[data-product-id="${productId}"]`);
        if (!optionGroup) {
          // fallback to simple add
          addToCartDirect(product.name, product.price, product.img);
          return;
        }
        const activeBtn = optionGroup.querySelector('.option-btn.active');
        const optionId = activeBtn ? activeBtn.dataset.optionId : product.options[0].id;
        const option = product.options.find(o => o.id === optionId) || product.options[0];
        const finalPrice = product.price + (option.price || 0);

        // Create item with option info
        const item = {
          productKey: productId + '-' + optionId + '-' + Date.now(),
          restaurantId: KFC_CONFIG.restaurantId,
          restaurantName: KFC_CONFIG.restaurantName,
          restaurantEmoji: KFC_CONFIG.emoji,
          name: product.name + ' (' + option.name + ')',
          price: finalPrice,
          img: product.img,
          quantity: 1,
          totalPrice: finalPrice,
          customization: option.name
        };

        cart.push(item);
        saveCart();
        createStarsAnimation();
        if (navigator.vibrate) navigator.vibrate(50);
      };

      window.addCustomizedToCart = function () {
        if (!currentProduct) return;

        // Create customization text based on product type
        let customParts = [];
        let customizations = { ...currentCustomization.selections };

        if (currentProduct.type === 'epic-bucket' || currentProduct.type === 'loaded-bucket' || currentProduct.type === 'mighty-bucket' || currentProduct.type === 'bucket-jma3a') {

          // First, add wings and strips for ALL buckets including Bucket Jma3a (this runs once)
          if (currentProduct.type === 'bucket-jma3a' || currentProduct.type.includes('mighty')) {
            if (currentCustomization.selections.wingsOriginal !== undefined) {
              customParts.push(`Wings: ${currentCustomization.selections.wingsOriginal} Original, ${currentCustomization.selections.wingsSpicy} Spicy`);
            }
            if (currentCustomization.selections.chickenOriginal !== undefined) {
              customParts.push(`Chicken: ${currentCustomization.selections.chickenOriginal} Original, ${currentCustomization.selections.chickenSpicy} Spicy`);
            }
          }

          // Strips for all buckets
          customParts.push(`Strips: ${currentCustomization.selections.stripsOriginal} Original, ${currentCustomization.selections.stripsSpicy} Spicy`);

          // Handle Bucket Jma3a specially (it has 3 specific sauces, not dips)
          if (currentProduct.type === 'bucket-jma3a') {
            // Side is already added above for all buckets, but we need to format it properly
            if (currentCustomization.selections.side === 'family-fries') {
              customParts.push(`Side: Family Fries`);
            }

            // Add the three sauces for Bucket Jma3a
            const sauceMap = {
              'mayonnaise': 'Mayonnaise Packet',
              'chili-mayo': 'Small Chili Mayo Sauce',
              'pepper-mayo': 'Pepper Mayo Sauce'
            };

            if (currentCustomization.selections.sauce) {
              customParts.push(`Sauce 1: ${sauceMap[currentCustomization.selections.sauce] || currentCustomization.selections.sauce}`);
            }
            if (currentCustomization.selections.sauce2) {
              customParts.push(`Sauce 2: ${sauceMap[currentCustomization.selections.sauce2] || currentCustomization.selections.sauce2}`);
            }
            if (currentCustomization.selections.sauce3) {
              customParts.push(`Sauce 3: ${sauceMap[currentCustomization.selections.sauce3] || currentCustomization.selections.sauce3}`);
            }

            if (currentCustomization.selections.beverage) {
              customParts.push(`Drink: ${currentCustomization.selections.beverage}`);
            }

            // Add On
            if (currentCustomization.selections.addon === 'no-addon') {
              customParts.push(`Add On: No Add On`);
            }
          }

          // Handle other buckets (Epic, Loaded, Mighty)
          else {
            if (currentCustomization.selections.side) {
              const sideMap = {
                'family-fries': 'Family Fries',
                'regular-fries': 'Regular Fries',
                'coleslaw-large': 'Coleslaw Large',
                'coleslaw-small': 'Coleslaw Small'
              };
              customParts.push(`Side: ${sideMap[currentCustomization.selections.side] || currentCustomization.selections.side}`);
            }

            if (currentCustomization.selections.secondSide) {
              const sideMap = {
                'family-fries': 'Family Fries',
                'regular-fries': 'Regular Fries',
                'coleslaw-large': 'Coleslaw Large',
                'coleslaw-small': 'Coleslaw Small'
              };
              customParts.push(`Second Side: ${sideMap[currentCustomization.selections.secondSide] || currentCustomization.selections.secondSide}`);
            }

            if (currentCustomization.selections.beverage) {
              const bevMap = {
                'pepsi-1l': 'Pepsi 1L',
                'mirinda-1l': 'Mirinda 1L',
                '7up-1l': '7Up 1L',
                'pepsi-1.5l': 'Pepsi 1.5L',
                'mirinda-1.5l': 'Mirinda 1.5L',
                '7up-1.5l': '7Up 1.5L'
              };
              customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
            }

            if (currentCustomization.selections.dips) {
              const dipNames = Object.values(currentCustomization.selections.dips).map(dipId => {
                const sauce = SAUCE_OPTIONS.find(s => s.id === dipId);
                return sauce ? sauce.name : dipId;
              }).join(', ');
              customParts.push(`Dips: ${dipNames}`);
            }
          }
        } else if (currentProduct.type.includes('simple') && currentProduct.hasCondiments) {
          if (currentCustomization.selections.condimentEnabled) {
            customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
          }
        } else if (currentProduct.type.includes('combo') || currentProduct.type.includes('meal')) {
          if (currentCustomization.selections.size) {
            customParts.push(`Size: ${currentCustomization.selections.size}`);
          }
          if (currentCustomization.selections.sandwich) {
            customParts.push(`Sandwich: ${currentCustomization.selections.sandwich}`);
          }
          if (currentCustomization.selections.condimentEnabled) {
            customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
          }
          customParts.push('Regular Fries');
          const bevMap = {
            'pepsi-can': 'Pepsi',
            '7up-can': '7Up',
            'mirinda-can': 'Mirinda',
            'pepsi-diet': 'Diet Pepsi',
            'water': 'Water',
            'pepsi-regular': 'Pepsi Regular',
            'diet-pepsi-regular': 'Diet Pepsi Regular',
            '7up-regular': '7Up Regular',
            'mirinda-regular': 'Mirinda Regular'
          };
          if (currentCustomization.selections.beverage) {
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
          }
        } else if (currentProduct.type.includes('box')) {
          if (currentCustomization.selections.size) {
            customParts.push(`Size: ${currentCustomization.selections.size}`);
          }
          if (currentCustomization.selections.sandwich) {
            customParts.push(`Sandwich: ${currentCustomization.selections.sandwich}`);
          }
          if (currentCustomization.selections.condimentEnabled) {
            customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
          }
          if (currentCustomization.selections.strips) {
            const stripsMap = {
              'chicken-original': 'Chicken Original',
              'chicken-spicy': 'Chicken Spicy',
              '2strips-original1': '2 Strips Original (+3)',
              '2strips-original2': '2 Strips Original (+3)'
            };
            customParts.push(`Strips: ${stripsMap[currentCustomization.selections.strips] || currentCustomization.selections.strips}`);
          }
          if (currentCustomization.selections.chicken) {
            customParts.push(`Chicken: ${currentCustomization.selections.chicken}`);
          }
          if (currentCustomization.selections.strip) {
            customParts.push(`Strip: ${currentCustomization.selections.strip}`);
          }
          customParts.push('Regular Fries, Coleslaw');
          const bevMap = {
            'pepsi-can': 'Pepsi',
            '7up-can': '7Up',
            'mirinda-can': 'Mirinda',
            'pepsi-diet': 'Diet Pepsi',
            'water': 'Water',
            'pepsi-regular': 'Pepsi Regular',
            'diet-pepsi-regular': 'Diet Pepsi Regular',
            '7up-regular': '7Up Regular',
            'mirinda-regular': 'Mirinda Regular'
          };
          if (currentCustomization.selections.beverage) {
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
          }
        } else if (currentProduct.type.includes('twist') || currentProduct.type.includes('duo')) {
          if (currentCustomization.selections.size) {
            customParts.push(`Size: ${currentCustomization.selections.size}`);
          }
          if (currentCustomization.selections.sandwich || currentCustomization.selections.sandwich1) {
            customParts.push(`Sandwich 1: ${currentCustomization.selections.sandwich || currentCustomization.selections.sandwich1}`);
          }
          if (currentCustomization.selections.condimentEnabled1) {
            customParts.push(`Cheese 1: ${currentCustomization.selections.condimentOption1 === 'extra' ? 'Extra (+2)' : 'Regular'}`);
          }
          if (currentCustomization.selections.twister || currentCustomization.selections.sandwich2) {
            customParts.push(`Sandwich 2: ${currentCustomization.selections.twister || currentCustomization.selections.sandwich2}`);
          }
          if (currentCustomization.selections.condimentEnabled2) {
            customParts.push(`Cheese 2: ${currentCustomization.selections.condimentOption2 === 'extra' ? 'Extra (+2)' : 'Regular'}`);
          }
          customParts.push('Regular Fries');
          const bevMap = {
            'pepsi-can': 'Pepsi',
            '7up-can': '7Up',
            'mirinda-can': 'Mirinda',
            'pepsi-diet': 'Diet Pepsi',
            'water': 'Water',
            'pepsi-regular': 'Pepsi Regular',
            'diet-pepsi-regular': 'Diet Pepsi Regular',
            '7up-regular': '7Up Regular',
            'mirinda-regular': 'Mirinda Regular'
          };
          if (currentCustomization.selections.beverage) {
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
          }
        } else if (currentProduct.type === 'crispy-strips-meal') {
          customParts.push(`${currentCustomization.selections.stripsOriginal} Original, ${currentCustomization.selections.stripsSpicy} Spicy Strips`);
          if (currentCustomization.selections.sauce) {
            const sauceMap = {
              'dynamite': 'Dynamite',
              'spicy-bbq': 'Spicy BBQ',
              'sweet-chilli': 'Sweet Chilli',
              'mayonnaise': 'Mayonnaise',
              'chili-mayo': 'Chili Mayo'
            };
            customParts.push(`Sauce: ${sauceMap[currentCustomization.selections.sauce] || currentCustomization.selections.sauce}`);
          }
          customParts.push('Regular Fries, Coleslaw');
          const bevMap = {
            'pepsi-can': 'Pepsi',
            '7up-can': '7Up',
            'mirinda-can': 'Mirinda',
            'pepsi-diet': 'Diet Pepsi',
            'water': 'Water',
            'pepsi-regular': 'Pepsi Regular',
            'diet-pepsi-regular': 'Diet Pepsi Regular',
            '7up-regular': '7Up Regular',
            'mirinda-regular': 'Mirinda Regular'
          };
          if (currentCustomization.selections.beverage) {
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
          }
        } else if (currentProduct.type === 'strips-epic') {
          customParts.push(`${currentCustomization.selections.stripsOriginal} Original, ${currentCustomization.selections.stripsSpicy} Spicy Strips`);
          customParts.push('Regular Fries');
          customParts.push('Dynamite Sauce');
          if (currentCustomization.selections.beverage) {
            const bevMap = {
              'pepsi-can': 'Pepsi',
              '7up-can': '7Up',
              'mirinda-can': 'Mirinda',
              'pepsi-diet': 'Diet Pepsi',
              'water': 'Water',
              'pepsi-regular': 'Pepsi Regular',
              'diet-pepsi-regular': 'Diet Pepsi Regular',
              '7up-regular': '7Up Regular',
              'mirinda-regular': 'Mirinda Regular'
            };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
          }
        } else if (currentProduct.type === 'chicken-epic') {
          customParts.push(`Strip: ${currentCustomization.selections.stripFlavor === 'original' ? 'Original' : 'Spicy'}`);
          customParts.push('2x Chicken Original');
          customParts.push('Coleslaw Small');
          if (currentCustomization.selections.beverage) {
            const bevMap = {
              'pepsi-can': 'Pepsi',
              '7up-can': '7Up',
              'mirinda-can': 'Mirinda',
              'pepsi-diet': 'Diet Pepsi',
              'water': 'Water',
              'pepsi-regular': 'Pepsi Regular',
              'diet-pepsi-regular': 'Diet Pepsi Regular',
              '7up-regular': '7Up Regular',
              'mirinda-regular': 'Mirinda Regular'
            };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
          }
        } else if (currentProduct.type === 'twister-epic') {
          customParts.push(`Sandwich: ${currentCustomization.selections.sandwich === 'twister-spicy' ? 'Spicy Twister' : 'Original Twister'}`);
          if (currentCustomization.selections.condimentEnabled) {
            customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
          }
          customParts.push(`Strip: ${currentCustomization.selections.stripFlavor === 'original' ? 'Original' : 'Spicy'}`);
          customParts.push('Dynamite Sauce');
          if (currentCustomization.selections.beverage) {
            const bevMap = {
              'pepsi-can': 'Pepsi',
              '7up-can': '7Up',
              'mirinda-can': 'Mirinda',
              'pepsi-diet': 'Diet Pepsi',
              'water': 'Water',
              'pepsi-regular': 'Pepsi Regular',
              'diet-pepsi-regular': 'Diet Pepsi Regular',
              '7up-regular': '7Up Regular',
              'mirinda-regular': 'Mirinda Regular'
            };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
          }
        } else if (currentProduct.type === 'cruncher-epic') {
          customParts.push('Cruncher Sandwich');
          if (currentCustomization.selections.condimentEnabled) {
            customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
          }
          customParts.push(`Strip: ${currentCustomization.selections.stripFlavor === 'original' ? 'Original' : 'Spicy'}`);
          customParts.push('Dynamite Sauce');
          if (currentCustomization.selections.beverage) {
            const bevMap = {
              'pepsi-can': 'Pepsi',
              '7up-can': '7Up',
              'mirinda-can': 'Mirinda',
              'pepsi-diet': 'Diet Pepsi',
              'water': 'Water',
              'pepsi-regular': 'Pepsi Regular',
              'diet-pepsi-regular': 'Diet Pepsi Regular',
              '7up-regular': '7Up Regular',
              'mirinda-regular': 'Mirinda Regular'
            };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
          }
        } else if (currentProduct.type === 'harissa-meal') {
          customParts.push(`Sandwich: ${currentCustomization.selections.sandwich === 'royal-spicy' ? 'Spicy' : 'Original'}`);
          customParts.push('Regular Fries');
          const bevMap = {
            'pepsi-can': 'Pepsi',
            '7up-can': '7Up',
            'mirinda-can': 'Mirinda',
            'pepsi-diet': 'Diet Pepsi',
            'water': 'Water',
            'pepsi-regular': 'Pepsi Regular',
            'diet-pepsi-regular': 'Diet Pepsi Regular',
            '7up-regular': '7Up Regular',
            'mirinda-regular': 'Mirinda Regular'
          };
          customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
        } else if (currentProduct.type === 'harissa-box' || currentProduct.type === 'harissa-mighty-box') {
          customParts.push(`Sandwich: ${currentCustomization.selections.sandwich === 'royal-spicy' ? 'Spicy' : 'Original'}`);
          const stripsMap = {
            'chicken-original': 'Chicken Original',
            'chicken-spicy': 'Chicken Spicy',
            '2strips-original1': '2 Strips Original (+3)',
            '2strips-original2': '2 Strips Original (+3)'
          };
          customParts.push(`Strips: ${stripsMap[currentCustomization.selections.strips]}`);
          customParts.push('Regular Fries, Coleslaw');
          const bevMap = {
            'pepsi-can': 'Pepsi',
            '7up-can': '7Up',
            'mirinda-can': 'Mirinda',
            'pepsi-diet': 'Diet Pepsi',
            'water': 'Water',
            'pepsi-regular': 'Pepsi Regular',
            'diet-pepsi-regular': 'Diet Pepsi Regular',
            '7up-regular': '7Up Regular',
            'mirinda-regular': 'Mirinda Regular'
          };
          customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
        } else if (currentProduct.type === 'harissa-twister' || currentProduct.type === 'harissa-twister-combo' || currentProduct.type === 'harissa-twister-box') {
          customParts.push('Harissa Twister');
          if (currentCustomization.selections.condimentEnabled) {
            customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
          }
          if (currentProduct.type === 'harissa-twister-box') {
            const stripsMap = {
              'chicken-original': 'Chicken Original',
              'chicken-spicy': 'Chicken Spicy',
              '2strips-original1': '2 Strips Original (+3)',
              '2strips-original2': '2 Strips Original (+3)'
            };
            customParts.push(`Strips: ${stripsMap[currentCustomization.selections.strips]}`);
            customParts.push('Regular Fries, Coleslaw');
          } else if (currentProduct.type === 'harissa-twister-combo') {
            customParts.push('Regular Fries');
          }
          if (currentProduct.type !== 'harissa-twister') {
            const bevMap = {
              'pepsi-can': 'Pepsi',
              '7up-can': '7Up',
              'mirinda-can': 'Mirinda',
              'pepsi-diet': 'Diet Pepsi',
              'water': 'Water',
              'pepsi-regular': 'Pepsi Regular',
              'diet-pepsi-regular': 'Diet Pepsi Regular',
              '7up-regular': '7Up Regular',
              'mirinda-regular': 'Mirinda Regular'
            };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage]}`);
          } else if (currentProduct.type === 'my-bucket-plus' || currentProduct.type === 'my-bucket') {
            customParts.push(`Chicken: ${currentCustomization.selections.chickenFlavor === 'original' ? 'Original' : 'Spicy'}`);
            customParts.push(`Strip 1: ${currentCustomization.selections.strip1Flavor === 'original' ? 'Original' : 'Spicy'}`);
            customParts.push(`Strip 2: ${currentCustomization.selections.strip2Flavor === 'original' ? 'Original' : 'Spicy'}`);
            customParts.push('Regular Fries');
            if (currentProduct.type === 'my-bucket-plus') {
              const sauceMap = { 'rizo-arabitta': 'Rizo Arabitta', 'rizo-chilli': 'Rizo Chilli' };
              customParts.push(`Sauce: ${sauceMap[currentCustomization.selections.sauce] || currentCustomization.selections.sauce}`);
            }
            const bevMap = { 'pepsi-can': 'Pepsi Can', 'mirinda-can': 'Mirinda Can', '7up-can': '7Up Can' };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
            if (currentCustomization.selections.extraSide === 'fries') {
              customParts.push('Extra Fries (+5 MAD)');
            }
          } else if (currentProduct.type === 'iftar-royal-meal') {
            customParts.push(`Sandwich: ${currentCustomization.selections.sandwich === 'royal-original' ? 'Original' : 'Spicy'}`);
            if (currentCustomization.selections.condimentEnabled) {
              customParts.push(`American Cheese: ${currentCustomization.selections.condimentOption === 'extra' ? 'Extra (+2 MAD)' : 'Regular'}`);
            }
            customParts.push('Regular Fries');
            const sauceMap = { 'rizo-arabitta': 'Rizo Arabitta', 'rizo-chilli': 'Rizo Chilli' };
            customParts.push(`Sauce: ${sauceMap[currentCustomization.selections.sauce] || currentCustomization.selections.sauce}`);
            const bevMap = {
              'pepsi-regular': 'Pepsi Regular',
              'diet-pepsi-regular': 'Diet Pepsi Regular',
              '7up-regular': '7Up Regular',
              'mirinda-regular': 'Mirinda Regular',
              'water': 'Water',
              'mojito': 'Mojito (+15)'
            };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
          } else if (currentProduct.type === 'super-dinner' || currentProduct.type === 'dinner-meal') {
            customParts.push(`Size: ${currentCustomization.selections.size === 'regular' ? 'Regular' : 'Large'}`);
            const flavorMap = { original: 'Original', spicy: 'Spicy', mix: 'Mix' };
            customParts.push(`Flavor: ${flavorMap[currentCustomization.selections.flavor] || currentCustomization.selections.flavor}`);
            customParts.push('Regular Fries, Coleslaw');
            const bevMap = { 'pepsi-can': 'Pepsi Can', 'mirinda-can': 'Mirinda Can', '7up-can': '7Up Can' };
            customParts.push(`Drink: ${bevMap[currentCustomization.selections.beverage] || currentCustomization.selections.beverage}`);
            if (currentCustomization.selections.extraSide === 'fries') {
              customParts.push('Extra Fries (+5 MAD)');
            }
          }
        }

        const customizationText = customParts.join(', ') || 'Standard';

        const item = {
          productKey: currentProduct.id + '-' + Date.now(),
          restaurantId: KFC_CONFIG.restaurantId,
          restaurantName: KFC_CONFIG.restaurantName,
          restaurantEmoji: KFC_CONFIG.emoji,
          name: currentProduct.name,
          price: currentCustomization.basePrice + currentCustomization.extraCharge,
          img: currentProduct.img,
          quantity: 1,
          totalPrice: currentCustomization.basePrice + currentCustomization.extraCharge,
          customization: customizationText,
          customizations: customizations
        };

        cart.push(item);
        saveCart();
        createStarsAnimation();
        closeCustomization();
      };

      function createStarsAnimation() {
        const container = document.getElementById('starsContainer');
        for (let i = 0; i < 8; i++) {
          const star = document.createElement('div');
          star.className = 'star';
          star.innerHTML = '‚òÖ';
          const startX = Math.random() * window.innerWidth, startY = window.innerHeight;
          const endX = window.innerWidth - 30, endY = 30, size = 12 + Math.random() * 12;
          star.style.left = startX + 'px';
          star.style.top = startY + 'px';
          star.style.fontSize = size + 'px';
          star.style.setProperty('--tx', (endX - startX) + 'px');
          star.style.setProperty('--ty', (endY - startY) + 'px');
          container.appendChild(star);
          star.style.animation = 'starAnimation 1s ease forwards';
          setTimeout(() => star.remove(), 1000);
        }
      }

      // Categories rendering
      function renderCategories() {
        const cats = MENU_CATEGORIES.map(c => ({ id: c.id, name: c.name, icon: c.icon }));
        const container = document.getElementById('categoriesContainer');
        container.innerHTML = '';
        cats.forEach((cat, idx) => {
          const btn = document.createElement('div');
          btn.className = `category ${idx === 0 ? 'active' : ''}`;
          btn.setAttribute('data-category', cat.id);
          btn.innerHTML = `<i class="${cat.icon}"></i> ${cat.name}`;
          btn.addEventListener('click', (e) => {
            document.querySelectorAll('.category').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const section = document.getElementById(cat.id);
            if (section) section.scrollIntoView({ behavior: 'smooth' });
          });
          container.appendChild(btn);
        });
      }

      // Make categories horizontally draggable with mouse
      const categoriesContainer = document.getElementById('categoriesContainer');
      let isDown = false;
      let startX;
      let scrollLeft;

      categoriesContainer.addEventListener('mousedown', (e) => {
        isDown = true;
        categoriesContainer.classList.add('active');
        startX = e.pageX - categoriesContainer.offsetLeft;
        scrollLeft = categoriesContainer.scrollLeft;
        e.preventDefault(); // prevent text selection
      });

      categoriesContainer.addEventListener('mouseleave', () => {
        isDown = false;
        categoriesContainer.classList.remove('active');
      });

      // Enable horizontal scrolling with mouse wheel
      categoriesContainer.addEventListener('wheel', (e) => {
        if (e.deltaY !== 0) {
          e.preventDefault();
          categoriesContainer.scrollLeft += e.deltaY;
        }
      }, { passive: false });

      categoriesContainer.addEventListener('mouseup', () => {
        isDown = false;
        categoriesContainer.classList.remove('active');
      });

      categoriesContainer.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - categoriesContainer.offsetLeft;
        const walk = (x - startX) * 1.5; // scroll speed factor
        categoriesContainer.scrollLeft = scrollLeft - walk;
      });

      // Intersection observer for sections
      function setupScrollObserver() {
        const sections = document.querySelectorAll('.category-items-section');
        const categories = document.querySelectorAll('.category');

        // Observer for section visibility (existing fade-in effect)
        const fadeObserver = new IntersectionObserver((entries) => {
          entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
        }, { threshold: 0.1 });
        sections.forEach(s => fadeObserver.observe(s));

        // Observer for active category ‚Äì triggers when section top hits the sticky bar
        const activeObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const id = entry.target.id;
              categories.forEach(cat => {
                if (cat.dataset.category === id) {
                  cat.classList.add('active');
                  // Auto‚Äëscroll the categories bar to show this button
                  cat.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                } else {
                  cat.classList.remove('active');
                }
              });
            }
          });
        }, {
          threshold: 0,
          rootMargin: '-80px 0px -80px 0px' // adjust if your sticky header height is different
        });

        sections.forEach(s => activeObserver.observe(s));
      }

      // Event listeners
      document.getElementById('viewCartBtn').addEventListener('click', () => window.location.href = 'checkout.html');
      document.getElementById('customizationModal').addEventListener('click', (e) => {
        if (e.target === document.getElementById('customizationModal')) closeCustomization();
      });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeCustomization(); });

      // Back button
      document.getElementById('backBtn').addEventListener('click', () => window.history.back());

      // Search button
      document.getElementById('searchBtn').addEventListener('click', () => {
        alert('Search functionality coming soon!');
      });

      // Share button
      document.getElementById('shareBtn').addEventListener('click', () => {
        if (navigator.share) {
          navigator.share({
            title: 'KFC Delivery Marrakech',
            text: 'Check out KFC delivery in Marrakech!',
            url: window.location.href
          }).catch(() => { });
        } else {
          alert('Share this page with your friends!');
        }
      });

      // Initialize
      renderPopularSlider();
      initPopularSlider();
      renderCategories();
      renderMenu();
      setupScrollObserver();  // Keep this one
      updateCartCount();
    })();
  </script>
</body>

</html>